/*
 * https://web.jwybg.com/
 * 啪哩啪哩
 * 提取高清视频 无限看会员视频
 * 广告未拦截（懒得写了）
[rewrite_local]
https:\/\/(?:\S+\/video\/info\/.*\?token=\S+) url script-request-header https://raw.githubusercontent.com/Yu9191/Rewrite/main/plpl.js

[mitm]
hostname = apiaws.*.com, apiaws.*.cn, *apiaws*
*/

(function(a,b){var x=a0e,w=a0d,c=a();while(!![]){try{var d=-parseInt(w(0x234,'\x66\x24\x70\x4f'))/0x1*(-parseInt(x(0x24d))/0x2)+parseInt(x(0x1e5))/0x3*(parseInt(x(0x246))/0x4)+-parseInt(w(0x211,'\x4a\x53\x52\x72'))/0x5*(parseInt(w(0x1fd,'\x49\x26\x41\x52'))/0x6)+-parseInt(w(0x248,'\x4d\x30\x29\x55'))/0x7*(parseInt(x(0x222))/0x8)+parseInt(x(0x22c))/0x9+parseInt(x(0x20a))/0xa*(parseInt(x(0x241))/0xb)+parseInt(x(0x215))/0xc*(-parseInt(w(0x24b,'\x51\x6f\x5b\x26'))/0xd);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xc5f7a));function a0d(a,b){var c=a0c();return a0d=function(d,e){d=d-0x1e0;var f=c[d];if(a0d['\x78\x73\x47\x4f\x49\x78']===undefined){var g=function(l){var m='\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\x6c\x6d\x6e\x6f\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4a\x4b\x4c\x4d\x4e\x4f\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5a\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2b\x2f\x3d';var n='',o='',p=n+g;for(var q=0x0,r,s,t=0x0;s=l['\x63\x68\x61\x72\x41\x74'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t+0xa)-0xa!==0x0?String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['\x69\x6e\x64\x65\x78\x4f\x66'](s);}for(var u=0x0,v=n['\x6c\x65\x6e\x67\x74\x68'];u<v;u++){o+='\x25'+('\x30\x30'+n['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](u)['\x74\x6f\x53\x74\x72\x69\x6e\x67'](0x10))['\x73\x6c\x69\x63\x65'](-0x2);}return decodeURIComponent(o);};var k=function(l,m){var n=[],o=0x0,p,q='';l=g(l);var r;for(r=0x0;r<0x100;r++){n[r]=r;}for(r=0x0;r<0x100;r++){o=(o+n[r]+m['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](r%m['\x6c\x65\x6e\x67\x74\x68']))%0x100,p=n[r],n[r]=n[o],n[o]=p;}r=0x0,o=0x0;for(var t=0x0;t<l['\x6c\x65\x6e\x67\x74\x68'];t++){r=(r+0x1)%0x100,o=(o+n[r])%0x100,p=n[r],n[r]=n[o],n[o]=p,q+=String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](l['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t)^n[(n[r]+n[o])%0x100]);}return q;};a0d['\x4d\x5a\x43\x44\x4a\x47']=k,a=arguments,a0d['\x78\x73\x47\x4f\x49\x78']=!![];}var h=c[0x0],i=d+h,j=a[i];if(!j){if(a0d['\x6a\x6c\x48\x4e\x46\x6f']===undefined){var l=function(m){this['\x47\x75\x4b\x44\x44\x45']=m,this['\x5a\x57\x6c\x6c\x49\x57']=[0x1,0x0,0x0],this['\x57\x74\x6b\x62\x6a\x6b']=function(){return'\x6e\x65\x77\x53\x74\x61\x74\x65';},this['\x76\x4d\x77\x67\x43\x67']='\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a',this['\x53\x72\x78\x63\x74\x7a']='\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d';};l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x6d\x49\x74\x45\x75\x47']=function(){var m=new RegExp(this['\x76\x4d\x77\x67\x43\x67']+this['\x53\x72\x78\x63\x74\x7a']),n=m['\x74\x65\x73\x74'](this['\x57\x74\x6b\x62\x6a\x6b']['\x74\x6f\x53\x74\x72\x69\x6e\x67']())?--this['\x5a\x57\x6c\x6c\x49\x57'][0x1]:--this['\x5a\x57\x6c\x6c\x49\x57'][0x0];return this['\x77\x49\x4d\x50\x69\x70'](n);},l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x77\x49\x4d\x50\x69\x70']=function(m){if(!Boolean(~m))return m;return this['\x53\x47\x73\x69\x45\x47'](this['\x47\x75\x4b\x44\x44\x45']);},l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x53\x47\x73\x69\x45\x47']=function(m){for(var n=0x0,o=this['\x5a\x57\x6c\x6c\x49\x57']['\x6c\x65\x6e\x67\x74\x68'];n<o;n++){this['\x5a\x57\x6c\x6c\x49\x57']['\x70\x75\x73\x68'](Math['\x72\x6f\x75\x6e\x64'](Math['\x72\x61\x6e\x64\x6f\x6d']())),o=this['\x5a\x57\x6c\x6c\x49\x57']['\x6c\x65\x6e\x67\x74\x68'];}return m(this['\x5a\x57\x6c\x6c\x49\x57'][0x0]);},new l(a0d)['\x6d\x49\x74\x45\x75\x47'](),a0d['\x6a\x6c\x48\x4e\x46\x6f']=!![];}f=a0d['\x4d\x5a\x43\x44\x4a\x47'](f,e),a[i]=f;}else f=j;return f;},a0d(a,b);}var a0u=(function(){var z=a0d,y=a0e,a={'\x47\x5a\x57\x56\x4f':function(c,d){return c===d;},'\x47\x64\x56\x4b\x41':function(c,d){return c!==d;},'\x57\x73\x6b\x6e\x6c':y(0x202)+'\x65','\x53\x58\x51\x55\x42':function(c,d){return c(d);},'\x53\x72\x76\x58\x71':function(c,d){return c===d;},'\x69\x4a\x58\x6c\x47':function(c,d){return c==d;},'\x4e\x75\x5a\x73\x58':y(0x1ff),'\x4b\x62\x5a\x4d\x65':z(0x21e,'\x6e\x5e\x24\x24'),'\x42\x6d\x44\x7a\x57':y(0x226),'\x64\x4e\x4a\x45\x44':y(0x1eb)},b=!![];return function(c,d){var D=y,B=z,e={'\x4f\x6f\x79\x61\x6c':function(g,h){var A=a0d;return a[A(0x1fb,'\x65\x37\x63\x55')](g,h);},'\x49\x47\x53\x67\x6f':B(0x205,'\x23\x5b\x2a\x67'),'\x56\x6a\x45\x6c\x4e':function(g,h){var C=B;return a[C(0x218,'\x74\x37\x4a\x50')](g,h);},'\x59\x55\x5a\x4a\x49':a[D(0x20e)],'\x69\x41\x4a\x65\x5a':function(g,h){var E=D;return a[E(0x25d)](g,h);},'\x43\x5a\x78\x6c\x6a':function(g,h){return g==h;},'\x4e\x57\x48\x70\x63':function(g,h){var F=B;return a[F(0x1f1,'\x52\x44\x54\x36')](g,h);},'\x71\x53\x73\x6c\x4f':function(g,h){var G=B;return a[G(0x25a,'\x6d\x28\x75\x71')](g,h);},'\x77\x4b\x63\x69\x4f':a[B(0x1ee,'\x49\x45\x6e\x39')],'\x53\x69\x54\x73\x76':a[B(0x1e3,'\x66\x24\x70\x4f')],'\x41\x6f\x66\x49\x78':D(0x1fa)};if(a[D(0x24c)](a[D(0x20f)],a[B(0x21a,'\x77\x55\x6e\x75')])){if(e[D(0x21d)](e[B(0x1ed,'\x36\x2a\x68\x62')],i(j))&&e[B(0x228,'\x4a\x53\x52\x72')](null,k)){for(var h in l)D(0x23f)===h?m[h]=0x1:e[D(0x260)]===h||B(0x22a,'\x67\x63\x4b\x6f')+B(0x251,'\x6d\x28\x75\x71')===h?n[h]=0x2245cdbff:e[D(0x1ec)](o,p[h]);}}else{var f=b?function(){var L=D,J=B,h={'\x53\x57\x69\x78\x67':function(j,k){var H=a0e;return e[H(0x216)](j,k);},'\x75\x72\x66\x66\x4c':function(j,k){var I=a0e;return e[I(0x20b)](j,k);},'\x79\x71\x49\x63\x56':J(0x267,'\x6c\x24\x23\x33'),'\x53\x66\x4e\x59\x4f':J(0x1f3,'\x6e\x5e\x24\x24'),'\x51\x61\x53\x77\x4e':function(j,k){var K=J;return e[K(0x25b,'\x43\x45\x69\x43')](j,k);},'\x6e\x44\x45\x54\x79':function(j,k){return j(k);}};if(e[L(0x250)]===e[J(0x259,'\x67\x48\x75\x61')])return typeof b;else{if(d){if(J(0x233,'\x4a\x53\x52\x72')===e[J(0x266,'\x7a\x50\x48\x67')]){var l={'\x71\x53\x71\x48\x6e':function(m,n){var M=J;return h[M(0x214,'\x4e\x53\x37\x33')](m,n);},'\x4a\x47\x6c\x50\x79':function(m,n){var N=J;return h[N(0x220,'\x58\x77\x4f\x74')](m,n);},'\x4b\x6e\x6b\x6a\x47':h[L(0x264)]};return i=h[J(0x212,'\x56\x5b\x7a\x49')](h[J(0x24f,'\x67\x63\x4b\x6f')],typeof j)&&h[L(0x1e7)](h[L(0x264)],typeof k[J(0x1e0,'\x6d\x28\x61\x23')])?function(r){return typeof r;}:function(u){var P=L,O=J;return u&&l[O(0x249,'\x58\x77\x4f\x74')](O(0x254,'\x77\x55\x6e\x75'),typeof q)&&l[O(0x21b,'\x58\x77\x4f\x74')](u[O(0x1fc,'\x44\x54\x38\x45')+'\x72'],r)&&u!==s[P(0x1f6)]?l[P(0x25e)]:typeof u;},h[L(0x21c)](o,p);}else{var i=d[J(0x240,'\x36\x2a\x68\x62')](c,arguments);return d=null,i;}}}}:function(){};return b=![],f;}};}()),a0v=a0u(this,function(){var R=a0d,Q=a0e,b={};b[Q(0x1e1)]=R(0x243,'\x49\x45\x6e\x39')+'\x2b\x24';var c=b;return a0v[R(0x22e,'\x59\x48\x26\x61')]()[Q(0x23a)](R(0x243,'\x49\x45\x6e\x39')+'\x2b\x24')[R(0x1e6,'\x61\x65\x55\x6d')]()[Q(0x24a)+'\x72'](a0v)[Q(0x23a)](c[R(0x20d,'\x43\x45\x69\x43')]);});function a0e(a,b){var c=a0c();return a0e=function(d,e){d=d-0x1e0;var f=c[d];if(a0e['\x54\x77\x78\x58\x47\x64']===undefined){var g=function(l){var m='\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\x6c\x6d\x6e\x6f\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4a\x4b\x4c\x4d\x4e\x4f\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5a\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2b\x2f\x3d';var n='',o='',p=n+g;for(var q=0x0,r,s,t=0x0;s=l['\x63\x68\x61\x72\x41\x74'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t+0xa)-0xa!==0x0?String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['\x69\x6e\x64\x65\x78\x4f\x66'](s);}for(var u=0x0,v=n['\x6c\x65\x6e\x67\x74\x68'];u<v;u++){o+='\x25'+('\x30\x30'+n['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](u)['\x74\x6f\x53\x74\x72\x69\x6e\x67'](0x10))['\x73\x6c\x69\x63\x65'](-0x2);}return decodeURIComponent(o);};a0e['\x67\x75\x50\x6a\x45\x47']=g,a=arguments,a0e['\x54\x77\x78\x58\x47\x64']=!![];}var h=c[0x0],i=d+h,j=a[i];if(!j){var k=function(l){this['\x6e\x74\x53\x7a\x46\x76']=l,this['\x62\x62\x44\x67\x49\x66']=[0x1,0x0,0x0],this['\x52\x56\x61\x4c\x6f\x5a']=function(){return'\x6e\x65\x77\x53\x74\x61\x74\x65';},this['\x68\x48\x49\x6f\x55\x58']='\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a',this['\x5a\x71\x44\x46\x43\x55']='\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d';};k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x64\x70\x41\x71\x62\x66']=function(){var l=new RegExp(this['\x68\x48\x49\x6f\x55\x58']+this['\x5a\x71\x44\x46\x43\x55']),m=l['\x74\x65\x73\x74'](this['\x52\x56\x61\x4c\x6f\x5a']['\x74\x6f\x53\x74\x72\x69\x6e\x67']())?--this['\x62\x62\x44\x67\x49\x66'][0x1]:--this['\x62\x62\x44\x67\x49\x66'][0x0];return this['\x4c\x73\x6a\x5a\x64\x6c'](m);},k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x4c\x73\x6a\x5a\x64\x6c']=function(l){if(!Boolean(~l))return l;return this['\x63\x6d\x47\x45\x4b\x6a'](this['\x6e\x74\x53\x7a\x46\x76']);},k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x63\x6d\x47\x45\x4b\x6a']=function(l){for(var m=0x0,n=this['\x62\x62\x44\x67\x49\x66']['\x6c\x65\x6e\x67\x74\x68'];m<n;m++){this['\x62\x62\x44\x67\x49\x66']['\x70\x75\x73\x68'](Math['\x72\x6f\x75\x6e\x64'](Math['\x72\x61\x6e\x64\x6f\x6d']())),n=this['\x62\x62\x44\x67\x49\x66']['\x6c\x65\x6e\x67\x74\x68'];}return l(this['\x62\x62\x44\x67\x49\x66'][0x0]);},new k(a0e)['\x64\x70\x41\x71\x62\x66'](),f=a0e['\x67\x75\x50\x6a\x45\x47'](f),a[i]=f;}else f=j;return f;},a0e(a,b);}function a0c(){var a3=['\x57\x51\x48\x38\x57\x37\x61\x71\x6f\x6d\x6b\x56','\x6d\x5a\x69\x34\x6e\x64\x48\x32\x44\x4c\x62\x55\x41\x67\x53','\x43\x68\x62\x59\x71\x31\x71','\x6d\x6d\x6b\x4e\x63\x62\x64\x64\x47\x71','\x6c\x38\x6b\x75\x57\x36\x5a\x64\x53\x47\x53','\x45\x65\x7a\x6c\x75\x66\x69','\x57\x50\x74\x63\x49\x53\x6b\x52\x57\x37\x6c\x63\x4b\x43\x6b\x67\x57\x52\x43\x7a\x57\x50\x64\x63\x50\x6d\x6b\x33\x74\x47\x69\x49','\x57\x36\x48\x4b\x44\x5a\x42\x64\x52\x47','\x76\x53\x6b\x4a\x57\x51\x62\x54\x62\x71','\x57\x52\x75\x73\x57\x4f\x7a\x70\x6f\x53\x6f\x4d\x78\x78\x78\x63\x4b\x38\x6b\x4c','\x41\x78\x72\x4c\x43\x4d\x66\x30\x42\x33\x69','\x6d\x5a\x6d\x59\x6e\x4a\x65\x30\x6f\x67\x66\x54\x71\x4d\x7a\x62\x76\x47','\x6e\x53\x6b\x41\x78\x33\x37\x64\x53\x6d\x6b\x75\x57\x4f\x4b','\x6b\x78\x39\x69\x41\x6d\x6b\x49\x57\x34\x39\x32\x73\x61','\x6f\x68\x31\x33\x45\x38\x6b\x31','\x45\x4e\x44\x33\x43\x67\x38','\x76\x4d\x7a\x35\x79\x75\x43','\x69\x5a\x56\x64\x52\x43\x6f\x4e\x57\x51\x34\x77\x69\x62\x52\x64\x52\x4b\x43','\x57\x34\x4c\x6d\x76\x49\x70\x64\x52\x57','\x57\x50\x74\x64\x4b\x6d\x6f\x54\x57\x4f\x74\x64\x54\x53\x6f\x6c\x57\x37\x57','\x43\x77\x6a\x30\x42\x4b\x69','\x57\x50\x66\x30\x57\x35\x68\x63\x50\x48\x52\x63\x53\x6d\x6f\x71\x73\x78\x37\x63\x48\x47','\x44\x65\x58\x7a\x79\x4e\x69','\x57\x51\x71\x4a\x6e\x48\x39\x5a','\x42\x76\x4c\x6c\x41\x30\x79','\x43\x32\x76\x48\x43\x4d\x6e\x4f','\x6f\x38\x6f\x42\x57\x50\x6d\x59\x76\x71','\x6f\x77\x66\x64\x43\x53\x6b\x4e','\x6d\x74\x6e\x50\x76\x33\x76\x71\x73\x75\x43','\x6e\x43\x6b\x4e\x67\x64\x74\x64\x4d\x57','\x44\x4d\x4c\x57','\x7a\x38\x6f\x4c\x57\x36\x56\x63\x56\x38\x6f\x64','\x6d\x74\x79\x59\x6e\x5a\x75\x30\x6e\x64\x7a\x6e\x44\x75\x54\x62\x73\x4d\x47','\x44\x67\x39\x74\x44\x68\x6a\x50\x42\x4d\x43','\x73\x78\x6c\x64\x55\x53\x6b\x4f\x57\x52\x74\x64\x51\x67\x69\x6d\x57\x36\x74\x63\x4a\x61','\x65\x38\x6f\x31\x57\x37\x4e\x64\x51\x6d\x6b\x4c','\x7a\x4e\x76\x55\x79\x33\x72\x50\x42\x32\x34','\x6d\x4a\x72\x57\x74\x4d\x66\x4f\x76\x76\x4f','\x57\x34\x74\x64\x47\x6d\x6b\x4c\x57\x35\x56\x63\x51\x38\x6b\x42\x68\x71\x50\x78\x57\x50\x52\x64\x4e\x30\x4e\x63\x47\x47','\x57\x37\x47\x6b\x57\x34\x47\x59\x79\x53\x6b\x2b\x66\x71\x70\x63\x52\x38\x6b\x48','\x57\x34\x6c\x64\x4a\x43\x6f\x30\x76\x74\x4b','\x79\x32\x39\x55\x43\x33\x72\x59\x44\x77\x6e\x30\x42\x57','\x57\x35\x48\x2b\x57\x35\x2f\x63\x47\x31\x6e\x6b\x76\x57\x53','\x72\x31\x50\x78\x76\x4b\x38','\x6d\x74\x71\x5a\x6d\x5a\x43\x5a\x6f\x67\x35\x78\x45\x4c\x6a\x79\x74\x61','\x57\x52\x52\x63\x4b\x53\x6f\x73\x57\x50\x78\x64\x4b\x71','\x57\x50\x75\x78\x57\x51\x62\x35\x67\x47','\x44\x30\x54\x4a\x41\x75\x38','\x57\x52\x48\x4a\x73\x43\x6b\x45\x57\x34\x54\x56\x57\x4f\x58\x67','\x57\x50\x4f\x4f\x57\x35\x46\x63\x50\x4b\x76\x59','\x6d\x74\x69\x34\x6d\x75\x72\x6e\x44\x76\x6a\x7a\x44\x47','\x41\x43\x6f\x72\x78\x76\x46\x63\x51\x75\x35\x71\x69\x61','\x57\x35\x4f\x5a\x57\x50\x46\x64\x55\x30\x78\x64\x51\x38\x6b\x6f\x61\x59\x68\x64\x47\x61','\x63\x31\x58\x2f\x73\x38\x6b\x34','\x6d\x4a\x75\x35\x6d\x64\x76\x63\x7a\x32\x39\x33\x74\x78\x69','\x41\x4b\x50\x35\x72\x4c\x43','\x57\x51\x74\x63\x4d\x53\x6f\x64\x57\x50\x37\x64\x52\x61','\x57\x4f\x35\x6d\x46\x38\x6b\x77\x57\x37\x47','\x57\x37\x65\x43\x7a\x43\x6b\x51\x69\x47','\x57\x37\x74\x63\x4b\x31\x65\x41\x76\x61\x34','\x75\x31\x48\x72\x76\x75\x69','\x73\x32\x35\x52\x41\x4b\x43','\x57\x52\x62\x4c\x65\x6d\x6f\x47\x57\x36\x65','\x77\x76\x76\x41\x73\x4b\x4b','\x41\x76\x4c\x6f\x72\x76\x79','\x41\x4b\x54\x48\x41\x76\x43','\x57\x37\x5a\x64\x4c\x53\x6b\x32\x63\x53\x6b\x68','\x45\x78\x66\x6a\x79\x31\x79','\x78\x76\x52\x63\x49\x62\x64\x63\x52\x61','\x57\x52\x74\x64\x56\x57\x61\x65\x57\x4f\x30','\x45\x67\x52\x63\x51\x6d\x6b\x52\x57\x36\x50\x74','\x74\x30\x6a\x4e\x41\x75\x53','\x6e\x5a\x79\x34\x73\x32\x39\x78\x76\x30\x6a\x4c','\x57\x4f\x6c\x63\x51\x53\x6b\x32\x6c\x4d\x64\x63\x53\x75\x4a\x63\x4e\x43\x6b\x6e\x69\x32\x46\x64\x4d\x38\x6b\x72','\x57\x51\x30\x73\x69\x64\x61\x34\x79\x53\x6b\x41\x57\x52\x4b','\x42\x4d\x76\x35\x7a\x68\x65','\x57\x51\x58\x76\x57\x50\x58\x4b\x71\x57','\x57\x36\x33\x64\x4e\x38\x6f\x61\x57\x4f\x56\x64\x47\x71','\x65\x53\x6b\x70\x6b\x72\x4a\x64\x56\x61','\x6e\x4a\x61\x59\x6d\x5a\x75\x31\x43\x67\x72\x79\x7a\x65\x35\x4c','\x57\x37\x53\x4a\x6e\x6d\x6b\x33\x6d\x73\x52\x63\x4a\x58\x57','\x75\x77\x66\x74\x44\x30\x34','\x79\x4b\x7a\x77\x44\x67\x53','\x42\x4d\x52\x64\x51\x6d\x6b\x66\x79\x43\x6f\x73\x6d\x53\x6b\x2f','\x6e\x38\x6f\x53\x57\x37\x79\x78\x6f\x64\x39\x68\x70\x61','\x43\x4d\x48\x58\x73\x4e\x71','\x41\x75\x66\x6b\x7a\x76\x4f','\x74\x38\x6f\x73\x57\x34\x4a\x63\x54\x6d\x6f\x76','\x6c\x59\x2f\x63\x49\x6d\x6f\x31\x57\x34\x43','\x74\x47\x2f\x64\x55\x64\x6d\x32','\x7a\x75\x50\x53\x77\x68\x43','\x72\x6d\x6f\x34\x45\x64\x33\x63\x4b\x47','\x57\x4f\x65\x2f\x69\x74\x7a\x54','\x78\x6d\x6b\x48\x57\x51\x64\x64\x50\x73\x79\x67\x57\x50\x6c\x63\x53\x47','\x79\x78\x62\x57\x42\x68\x4b','\x57\x52\x48\x51\x57\x37\x6d\x62\x69\x38\x6b\x58\x75\x43\x6b\x55\x61\x53\x6f\x55','\x43\x68\x6a\x56\x44\x67\x39\x30\x45\x78\x62\x4c','\x77\x78\x6e\x68\x44\x75\x79','\x57\x51\x48\x58\x57\x36\x38\x42\x6f\x43\x6b\x4b\x74\x43\x6b\x52\x64\x57','\x57\x52\x61\x51\x68\x63\x61\x52','\x75\x77\x66\x4e\x41\x76\x61','\x71\x43\x6b\x64\x61\x38\x6f\x76\x57\x34\x38','\x6b\x6d\x6b\x6b\x57\x35\x52\x64\x52\x57\x4a\x63\x4a\x58\x35\x37\x57\x36\x30\x66','\x57\x4f\x35\x51\x57\x34\x68\x64\x47\x31\x37\x64\x4a\x53\x6b\x53\x69\x4a\x61','\x46\x43\x6f\x76\x57\x4f\x42\x63\x52\x30\x4e\x64\x49\x62\x54\x38\x57\x34\x65\x6f\x57\x4f\x70\x64\x56\x47','\x71\x33\x6e\x70\x77\x68\x79','\x72\x75\x39\x48\x77\x75\x53','\x73\x67\x72\x66\x71\x31\x6d','\x44\x4d\x4c\x57\x78\x32\x76\x55\x7a\x68\x72\x50\x42\x71','\x57\x35\x74\x63\x53\x31\x57\x77\x46\x61','\x44\x43\x6f\x32\x57\x37\x70\x63\x56\x6d\x6f\x76\x57\x50\x6c\x63\x4f\x53\x6b\x75\x57\x52\x64\x63\x4d\x61','\x64\x53\x6f\x51\x57\x52\x70\x63\x51\x38\x6b\x58\x61\x57','\x74\x76\x50\x78\x42\x32\x53','\x42\x38\x6b\x61\x67\x53\x6f\x67\x57\x35\x79','\x57\x34\x4e\x64\x50\x74\x66\x63\x61\x53\x6b\x46\x67\x6d\x6f\x34','\x79\x4d\x39\x4b\x45\x71','\x6d\x74\x62\x62\x45\x75\x7a\x6e\x75\x30\x65','\x74\x4c\x44\x69\x43\x67\x6d','\x57\x52\x48\x41\x57\x4f\x72\x54\x7a\x61','\x57\x36\x34\x51\x42\x38\x6b\x49\x68\x61','\x76\x33\x6e\x52\x42\x4d\x57','\x71\x4d\x31\x65\x45\x4c\x43','\x63\x48\x4c\x32\x72\x77\x38\x6d\x57\x34\x74\x63\x50\x61','\x57\x4f\x57\x37\x63\x32\x52\x63\x4c\x75\x56\x63\x51\x68\x42\x63\x4a\x62\x30\x46','\x57\x37\x64\x63\x52\x68\x78\x64\x4d\x43\x6b\x4a','\x57\x35\x75\x59\x76\x38\x6b\x30\x57\x35\x35\x55\x57\x52\x72\x35','\x64\x61\x33\x64\x47\x6d\x6b\x65\x71\x61','\x6d\x4a\x43\x58\x6e\x64\x75\x35\x6f\x74\x6a\x31\x44\x67\x58\x54\x74\x77\x53','\x71\x31\x50\x34\x42\x67\x4f','\x57\x34\x78\x64\x54\x38\x6f\x31\x71\x4a\x6c\x64\x52\x62\x74\x63\x48\x38\x6b\x5a\x6e\x61','\x66\x53\x6f\x39\x57\x34\x34\x2f\x64\x71','\x6c\x78\x66\x50\x42\x38\x6b\x31','\x41\x38\x6f\x51\x45\x78\x68\x63\x4d\x71','\x57\x37\x4e\x64\x4d\x43\x6f\x50\x74\x73\x34','\x42\x4b\x72\x66\x76\x68\x4b','\x74\x32\x39\x35\x79\x77\x57','\x75\x43\x6b\x7a\x57\x4f\x6c\x64\x50\x72\x43','\x57\x36\x6c\x64\x4a\x61\x7a\x65\x62\x61','\x57\x34\x42\x64\x52\x6d\x6f\x4a\x45\x58\x53'];a0c=function(){return a3;};return a0c();}a0v(),((()=>{var T=a0e,S=a0d,a={'\x4f\x42\x67\x69\x4b':function(e,f){return e==f;},'\x71\x62\x74\x6e\x42':function(e,f){return e===f;},'\x74\x4c\x59\x62\x72':function(e,f){return e!==f;},'\x7a\x77\x77\x70\x6f':S(0x221,'\x36\x59\x65\x72'),'\x4d\x5a\x57\x6f\x6b':S(0x1f2,'\x64\x5e\x5e\x6d'),'\x6a\x4a\x79\x46\x57':function(e,f){return e==f;},'\x6a\x4b\x61\x69\x57':function(e,f){return e===f;},'\x56\x4c\x64\x57\x68':S(0x23e,'\x52\x4c\x43\x4f'),'\x69\x59\x4e\x45\x56':function(e,f){return e===f;},'\x65\x4a\x6c\x58\x77':function(e,f){return e==f;},'\x4d\x61\x45\x78\x4b':function(e,f){return e(f);},'\x48\x64\x45\x43\x53':S(0x232,'\x6c\x24\x23\x33')+'\x2b\x24','\x52\x59\x51\x55\x76':S(0x225,'\x44\x54\x38\x45'),'\x59\x73\x47\x75\x46':T(0x23f),'\x45\x4f\x61\x59\x4b':S(0x217,'\x58\x77\x4f\x74')+'\x65','\x4d\x5a\x77\x4e\x77':S(0x204,'\x36\x2a\x68\x62')+S(0x208,'\x42\x47\x68\x56'),'\x6f\x72\x56\x46\x4a':function(e,f){return e(f);}};function b(e){var V=T,U=S,f={};f[U(0x1e2,'\x4d\x30\x29\x55')]=V(0x231),f[U(0x263,'\x79\x41\x32\x50')]=a[U(0x256,'\x59\x48\x26\x61')];var g=f;return a[V(0x261)](V(0x1e8),V(0x223))?h&&a[V(0x268)](U(0x1ea,'\x74\x37\x4a\x50'),typeof i)&&a[U(0x20c,'\x4d\x30\x29\x55')](j[U(0x255,'\x49\x26\x41\x52')+'\x72'],k)&&a[U(0x21f,'\x42\x47\x68\x56')](l,m[V(0x1f6)])?a[V(0x230)]:typeof d:(b=a[U(0x203,'\x65\x72\x6e\x36')](V(0x245),typeof Symbol)&&a[V(0x1f0)](a[U(0x25f,'\x66\x6b\x38\x4c')],typeof Symbol[V(0x22b)])?function(i){var X=V,W=U;if(g[W(0x22f,'\x59\x48\x26\x61')]===g[X(0x239)]){var k=d[X(0x1f4)](e,arguments);return f=null,k;}else return typeof i;}:function(i){var Z=U,Y=V;if(a[Y(0x235)](a[Y(0x206)],Z(0x1ef,'\x52\x32\x37\x45'))){var k=g?function(){var a0=Y;if(k){var u=q[a0(0x1f4)](r,arguments);return s=null,u;}}:function(){};return l=![],k;}else return i&&a[Y(0x258)](Y(0x245),typeof Symbol)&&a[Z(0x23b,'\x77\x5a\x24\x29')](i[Z(0x1f5,'\x36\x59\x65\x72')+'\x72'],Symbol)&&a[Y(0x237)](i,Symbol[Y(0x1f6)])?a[Y(0x230)]:typeof i;},a[U(0x24e,'\x67\x48\x75\x61')](b,e));}var c=$response[T(0x209)],d=JSON[S(0x219,'\x59\x48\x26\x61')](c);!function e(f){var a2=T,a1=S;if(a[a1(0x238,'\x64\x5e\x5e\x6d')](a1(0x23c,'\x59\x48\x26\x61'),a[a1(0x244,'\x5b\x29\x4b\x4a')]))return c[a2(0x242)]()[a1(0x252,'\x51\x6f\x5b\x26')](VNjcLZ[a2(0x201)])[a1(0x210,'\x39\x42\x69\x4d')]()[a2(0x24a)+'\x72'](d)[a2(0x23a)](a1(0x236,'\x49\x26\x41\x52')+'\x2b\x24');else{if(a[a2(0x262)](a1(0x25c,'\x65\x72\x6e\x36'),b(f))&&a[a1(0x1f9,'\x6d\x28\x61\x23')](null,f)){for(var g in f)a[a2(0x235)](a[a2(0x1f7)],g)?f[g]=0x1:a[a1(0x229,'\x6f\x4b\x55\x73')](a[a2(0x200)],g)||a[a1(0x207,'\x65\x37\x63\x55')](a[a1(0x224,'\x52\x4c\x43\x4f')],g)?f[g]=0x2245cdbff:a[a1(0x265,'\x35\x5e\x45\x57')](e,f[g]);}}}(d),a[S(0x1e4,'\x52\x4c\x43\x4f')]($done,{'\x62\x6f\x64\x79':JSON[S(0x1f8,'\x36\x59\x65\x72')](d)});})());
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
