/*
 * https://web.jwybg.com/
 * 啪哩啪哩
 * 提取高清视频 无限看会员视频
 * 广告未拦截（懒得写了）
[rewrite_local]
https:\/\/(?:\S+\/video\/info\/.*\?token=\S+) url script-request-header https://raw.githubusercontent.com/Yu9191/Rewrite/main/plpl.js

[mitm]
hostname = apiaws.*.com, apiaws.*.cn, *apiaws*
*/
const $ = new Env("https://web.jwybg.com/", {
    "logLevel": "none" 
});
function a0e(a,b){var c=a0c();return a0e=function(d,e){d=d-0x150;var f=c[d];if(a0e['\x72\x70\x73\x70\x78\x5a']===undefined){var g=function(l){var m='\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\x6c\x6d\x6e\x6f\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4a\x4b\x4c\x4d\x4e\x4f\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5a\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2b\x2f\x3d';var n='',o='',p=n+g;for(var q=0x0,r,s,t=0x0;s=l['\x63\x68\x61\x72\x41\x74'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t+0xa)-0xa!==0x0?String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['\x69\x6e\x64\x65\x78\x4f\x66'](s);}for(var u=0x0,v=n['\x6c\x65\x6e\x67\x74\x68'];u<v;u++){o+='\x25'+('\x30\x30'+n['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](u)['\x74\x6f\x53\x74\x72\x69\x6e\x67'](0x10))['\x73\x6c\x69\x63\x65'](-0x2);}return decodeURIComponent(o);};a0e['\x65\x55\x67\x4f\x4b\x51']=g,a=arguments,a0e['\x72\x70\x73\x70\x78\x5a']=!![];}var h=c[0x0],i=d+h,j=a[i];if(!j){var k=function(l){this['\x53\x71\x6f\x74\x71\x76']=l,this['\x4f\x4d\x45\x68\x77\x6b']=[0x1,0x0,0x0],this['\x4c\x53\x72\x4d\x4b\x66']=function(){return'\x6e\x65\x77\x53\x74\x61\x74\x65';},this['\x6f\x53\x59\x61\x6b\x58']='\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a',this['\x74\x53\x4f\x53\x51\x75']='\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d';};k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x7a\x5a\x58\x66\x45\x45']=function(){var l=new RegExp(this['\x6f\x53\x59\x61\x6b\x58']+this['\x74\x53\x4f\x53\x51\x75']),m=l['\x74\x65\x73\x74'](this['\x4c\x53\x72\x4d\x4b\x66']['\x74\x6f\x53\x74\x72\x69\x6e\x67']())?--this['\x4f\x4d\x45\x68\x77\x6b'][0x1]:--this['\x4f\x4d\x45\x68\x77\x6b'][0x0];return this['\x79\x71\x4e\x57\x4b\x52'](m);},k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x79\x71\x4e\x57\x4b\x52']=function(l){if(!Boolean(~l))return l;return this['\x53\x74\x64\x64\x43\x4c'](this['\x53\x71\x6f\x74\x71\x76']);},k['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x53\x74\x64\x64\x43\x4c']=function(l){for(var m=0x0,n=this['\x4f\x4d\x45\x68\x77\x6b']['\x6c\x65\x6e\x67\x74\x68'];m<n;m++){this['\x4f\x4d\x45\x68\x77\x6b']['\x70\x75\x73\x68'](Math['\x72\x6f\x75\x6e\x64'](Math['\x72\x61\x6e\x64\x6f\x6d']())),n=this['\x4f\x4d\x45\x68\x77\x6b']['\x6c\x65\x6e\x67\x74\x68'];}return l(this['\x4f\x4d\x45\x68\x77\x6b'][0x0]);},new k(a0e)['\x7a\x5a\x58\x66\x45\x45'](),f=a0e['\x65\x55\x67\x4f\x4b\x51'](f),a[i]=f;}else f=j;return f;},a0e(a,b);}function a0c(){var Z=['\x57\x35\x33\x64\x50\x30\x66\x67\x57\x4f\x39\x52\x78\x43\x6b\x48\x65\x6d\x6f\x61\x65\x53\x6f\x59','\x74\x66\x4c\x30\x41\x4b\x34','\x57\x51\x6c\x64\x48\x57\x44\x4c\x70\x47','\x70\x53\x6f\x65\x41\x38\x6f\x61\x57\x52\x65','\x42\x77\x54\x6c\x41\x68\x6d','\x57\x34\x72\x71\x6d\x68\x48\x6d','\x45\x6d\x6f\x69\x57\x4f\x78\x64\x4f\x76\x74\x63\x4e\x47','\x42\x66\x44\x77\x76\x30\x57','\x57\x34\x30\x4d\x57\x34\x75\x77\x57\x52\x64\x63\x55\x38\x6f\x52\x57\x34\x52\x64\x49\x77\x64\x63\x53\x4b\x37\x63\x47\x61','\x42\x76\x4c\x76\x45\x76\x69','\x57\x4f\x54\x6a\x76\x78\x76\x2f\x57\x35\x66\x61\x61\x61','\x6a\x43\x6b\x61\x77\x66\x2f\x63\x47\x47','\x76\x32\x66\x51\x41\x78\x65','\x7a\x73\x48\x6c\x57\x52\x69\x51','\x57\x36\x34\x73\x6e\x64\x46\x64\x56\x47','\x57\x35\x6e\x2b\x71\x63\x6d\x77','\x6f\x67\x33\x63\x54\x78\x42\x63\x47\x71','\x77\x4c\x72\x50\x45\x66\x4b','\x57\x36\x68\x64\x4b\x38\x6f\x67\x77\x61\x53\x5a\x57\x51\x4a\x64\x4c\x61','\x77\x43\x6b\x37\x72\x5a\x33\x63\x4e\x62\x74\x63\x4d\x53\x6f\x31\x72\x38\x6f\x4c','\x78\x32\x76\x55\x7a\x68\x72\x50\x42\x77\x75','\x44\x4d\x4c\x57','\x57\x36\x6c\x64\x50\x38\x6f\x2b\x57\x51\x50\x59','\x63\x38\x6b\x7a\x57\x35\x33\x63\x49\x6d\x6f\x44','\x6b\x4d\x42\x63\x4f\x43\x6b\x76\x57\x34\x4b\x6e\x57\x35\x37\x63\x52\x73\x56\x64\x56\x73\x2f\x63\x4f\x38\x6b\x42','\x75\x4c\x6e\x62\x42\x4e\x47','\x57\x37\x53\x62\x57\x34\x65\x6d\x78\x57','\x57\x51\x76\x31\x57\x52\x75\x77\x61\x57','\x76\x4b\x66\x48\x72\x33\x4f','\x57\x36\x62\x46\x6d\x77\x50\x6f\x57\x37\x78\x64\x48\x43\x6b\x35','\x57\x35\x38\x36\x69\x62\x78\x63\x47\x61','\x6f\x33\x4a\x63\x51\x33\x68\x63\x54\x47\x6a\x2f\x44\x65\x4e\x64\x4a\x61','\x6d\x78\x66\x4a\x76\x77\x48\x4c\x79\x57','\x44\x43\x6f\x47\x57\x4f\x46\x64\x54\x43\x6f\x79','\x57\x4f\x70\x64\x4a\x77\x37\x63\x55\x53\x6f\x36','\x6e\x4a\x76\x71\x77\x4d\x6e\x4a\x41\x65\x30','\x44\x76\x7a\x4f\x7a\x76\x43','\x73\x32\x35\x4a\x72\x65\x4b','\x77\x66\x76\x54\x7a\x75\x30','\x43\x68\x6a\x56\x44\x67\x39\x30\x45\x78\x62\x4c','\x44\x4b\x31\x7a\x75\x30\x57','\x72\x75\x58\x5a\x42\x76\x47','\x79\x78\x62\x57\x42\x68\x4b','\x43\x33\x4c\x54\x79\x4d\x39\x53','\x6a\x38\x6b\x47\x71\x32\x74\x63\x4e\x65\x4e\x64\x50\x63\x58\x6e','\x75\x6d\x6b\x62\x57\x51\x74\x63\x50\x4d\x57\x74\x78\x6d\x6f\x30\x42\x74\x66\x67\x61\x71','\x57\x36\x61\x63\x73\x38\x6f\x32\x57\x51\x4b','\x57\x4f\x4e\x63\x53\x53\x6b\x77\x57\x34\x53\x2f\x6d\x5a\x79\x44\x57\x34\x46\x64\x51\x38\x6f\x66\x57\x34\x52\x64\x54\x61','\x7a\x4e\x76\x55\x79\x33\x72\x50\x42\x32\x34','\x57\x34\x6d\x70\x67\x4a\x70\x64\x48\x57','\x74\x57\x30\x50\x68\x43\x6b\x71','\x6e\x5a\x62\x4d\x42\x68\x6e\x35\x79\x4d\x57','\x43\x32\x6e\x4f\x42\x32\x39\x53\x78\x33\x7a\x50\x43\x61','\x75\x78\x7a\x33\x45\x66\x61','\x77\x4d\x76\x79\x76\x33\x4f','\x76\x78\x7a\x6a\x79\x30\x69','\x57\x34\x62\x38\x7a\x74\x79\x54\x71\x43\x6f\x66\x6d\x57','\x6b\x63\x47\x4f\x6c\x49\x53\x50\x6b\x59\x4b\x52\x6b\x71','\x6b\x47\x71\x44\x57\x4f\x39\x39\x61\x57','\x57\x36\x79\x75\x57\x36\x34\x34\x71\x57','\x57\x36\x69\x7a\x41\x30\x54\x4f\x57\x35\x54\x66\x6b\x61','\x6d\x5a\x47\x34\x6d\x74\x75\x59\x41\x75\x48\x51\x42\x78\x44\x6a','\x57\x51\x76\x6e\x72\x6d\x6b\x58\x7a\x72\x6d','\x44\x67\x39\x74\x44\x68\x6a\x50\x42\x4d\x43','\x57\x34\x56\x64\x4b\x4b\x54\x54\x57\x37\x47','\x77\x4e\x62\x30\x75\x4c\x6d','\x79\x32\x39\x55\x43\x33\x72\x59\x44\x77\x6e\x30\x42\x57','\x76\x4e\x46\x63\x54\x72\x35\x6b\x64\x6d\x6f\x6e\x72\x71','\x42\x47\x70\x64\x55\x53\x6f\x67\x57\x51\x57','\x63\x43\x6f\x50\x73\x43\x6f\x58\x57\x52\x30','\x76\x76\x44\x59\x73\x4d\x47','\x57\x51\x58\x6d\x7a\x57\x46\x64\x4d\x71','\x43\x4b\x44\x30\x77\x4e\x4f','\x72\x65\x48\x67\x73\x4c\x61','\x6d\x4a\x66\x62\x73\x78\x7a\x5a\x75\x4e\x71','\x74\x76\x72\x51\x73\x4d\x57','\x79\x4d\x39\x4b\x45\x71','\x43\x4b\x6a\x7a\x76\x66\x69','\x6f\x53\x6b\x5a\x7a\x4e\x68\x63\x56\x61','\x78\x65\x53\x6c\x57\x52\x48\x35\x78\x47\x42\x64\x55\x72\x65\x74\x57\x4f\x2f\x63\x4d\x57','\x57\x35\x66\x59\x6b\x6d\x6b\x70\x72\x5a\x5a\x64\x55\x6d\x6b\x36','\x57\x37\x71\x53\x57\x51\x7a\x48\x68\x71','\x43\x33\x72\x59\x41\x77\x35\x4e\x41\x77\x7a\x35','\x79\x78\x44\x6e\x76\x33\x69','\x57\x4f\x33\x63\x53\x62\x43\x65\x57\x34\x34\x52\x71\x43\x6b\x6b\x64\x53\x6f\x63','\x42\x58\x4e\x63\x4d\x33\x52\x63\x48\x57','\x63\x64\x68\x64\x4f\x4c\x53\x73\x73\x6d\x6f\x67\x46\x4a\x62\x7a\x57\x36\x56\x64\x54\x61','\x42\x32\x6a\x51\x7a\x77\x6e\x30','\x71\x61\x78\x63\x4d\x68\x52\x63\x4d\x47','\x57\x4f\x43\x69\x57\x50\x58\x2b\x62\x53\x6b\x78\x57\x4f\x4e\x63\x4e\x73\x74\x63\x4d\x57','\x6d\x74\x4b\x32\x6d\x4a\x71\x59\x76\x78\x76\x31\x79\x77\x39\x7a','\x77\x78\x6e\x68\x79\x78\x79','\x75\x33\x62\x53\x79\x77\x69','\x57\x35\x43\x50\x6e\x47\x78\x64\x47\x71','\x57\x52\x39\x73\x72\x59\x78\x64\x50\x48\x4e\x63\x4d\x4a\x52\x63\x4f\x43\x6b\x4a','\x7a\x4d\x54\x58\x75\x30\x34','\x77\x77\x58\x76\x43\x66\x4f','\x72\x4b\x6e\x62\x42\x4b\x53','\x42\x32\x66\x52\x7a\x31\x71','\x42\x66\x62\x49\x79\x32\x30','\x6a\x38\x6b\x48\x57\x37\x52\x63\x4f\x38\x6f\x52','\x6d\x74\x4b\x33\x6d\x74\x65\x30\x6f\x64\x6e\x75\x72\x77\x48\x34\x77\x4c\x43','\x43\x32\x76\x48\x43\x4d\x6e\x4f','\x57\x37\x33\x63\x56\x67\x71\x4a\x76\x43\x6b\x47\x57\x50\x46\x64\x48\x38\x6f\x64\x44\x71\x46\x64\x4f\x61','\x75\x78\x6e\x7a\x41\x66\x65','\x6b\x4c\x33\x63\x49\x30\x74\x64\x54\x6d\x6b\x39\x6e\x64\x33\x63\x4e\x38\x6b\x75','\x42\x76\x72\x5a\x71\x30\x75','\x76\x4d\x35\x79\x45\x77\x6d','\x75\x72\x38\x62\x57\x37\x52\x64\x49\x71','\x42\x30\x50\x4b\x44\x4b\x38','\x46\x57\x61\x45\x68\x43\x6b\x63\x7a\x61','\x57\x50\x71\x45\x57\x4f\x74\x63\x47\x32\x71','\x61\x43\x6b\x6b\x42\x49\x34\x59','\x46\x62\x74\x63\x48\x43\x6b\x4f\x57\x50\x65\x78\x57\x52\x7a\x64','\x46\x59\x56\x63\x50\x78\x6c\x63\x51\x48\x44\x63\x42\x47','\x57\x51\x50\x75\x77\x71\x4e\x64\x54\x57\x78\x63\x49\x59\x33\x63\x56\x6d\x6b\x48','\x57\x50\x71\x31\x57\x52\x7a\x31\x68\x47','\x57\x37\x57\x43\x6f\x59\x42\x64\x4e\x71','\x72\x32\x72\x4f\x77\x75\x57','\x74\x4b\x44\x6a\x7a\x4e\x75','\x57\x4f\x2f\x64\x47\x6d\x6b\x50\x57\x4f\x65\x6e\x64\x71\x65','\x70\x65\x5a\x63\x4c\x68\x68\x63\x51\x71','\x66\x32\x62\x6e\x57\x4f\x6c\x63\x54\x38\x6b\x66\x57\x51\x61\x47\x75\x6d\x6b\x44\x6b\x53\x6f\x65','\x72\x77\x31\x79\x75\x31\x47','\x76\x78\x50\x6d\x72\x4c\x79','\x67\x76\x34\x56\x57\x37\x7a\x6c\x46\x53\x6f\x51\x7a\x43\x6f\x71\x6d\x53\x6b\x4a\x57\x50\x74\x63\x48\x71','\x57\x36\x4f\x4c\x57\x36\x39\x48\x45\x4d\x56\x63\x4c\x4e\x76\x46\x45\x47','\x41\x78\x72\x4c\x43\x4d\x66\x30\x42\x33\x69','\x57\x36\x43\x30\x57\x51\x6a\x54\x6b\x57','\x79\x74\x65\x6d\x6c\x6d\x6b\x4b','\x42\x77\x76\x79\x72\x30\x6d','\x65\x6d\x6b\x66\x79\x72\x6d\x6f','\x57\x35\x30\x78\x57\x51\x58\x52\x6a\x4b\x4b','\x72\x32\x76\x66\x7a\x4d\x34','\x64\x6d\x6f\x45\x75\x38\x6f\x4e\x57\x4f\x38','\x45\x49\x6c\x63\x56\x30\x6c\x63\x50\x57','\x6b\x64\x4b\x58\x57\x4f\x39\x61','\x44\x30\x44\x4c\x76\x78\x6d','\x44\x4d\x4c\x57\x78\x32\x76\x55\x7a\x68\x72\x50\x42\x71'];a0c=function(){return Z;};return a0c();}(function(a,b){var x=a0d,w=a0e,c=a();while(!![]){try{var d=-parseInt(w(0x1c5))/0x1*(parseInt(x(0x181,'\x41\x6d\x51\x21'))/0x2)+-parseInt(x(0x1bd,'\x45\x29\x43\x44'))/0x3+-parseInt(w(0x157))/0x4+-parseInt(x(0x1af,'\x21\x37\x53\x38'))/0x5*(parseInt(w(0x174))/0x6)+parseInt(w(0x164))/0x7*(-parseInt(x(0x1d4,'\x69\x63\x53\x73'))/0x8)+parseInt(x(0x1d2,'\x62\x46\x62\x5e'))/0x9*(parseInt(x(0x18c,'\x6f\x36\x4d\x25'))/0xa)+parseInt(w(0x17f))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x3c718));var a0u=(function(){var z=a0d,y=a0e,a={'\x71\x44\x41\x62\x52':y(0x171),'\x4e\x47\x49\x66\x75':function(c,d){return c(d);},'\x75\x56\x68\x65\x57':function(c,d){return c!==d;},'\x55\x57\x72\x4a\x68':function(c,d){return c===d;},'\x78\x44\x76\x6e\x4b':y(0x1ba),'\x45\x4c\x73\x6d\x58':function(c,d){return c===d;},'\x46\x43\x41\x6e\x4b':z(0x1c4,'\x6f\x36\x4d\x25')+y(0x1b9),'\x53\x70\x6c\x61\x62':function(c,d){return c(d);},'\x68\x49\x51\x71\x52':y(0x1d0),'\x76\x4d\x59\x53\x4c':z(0x152,'\x57\x6d\x56\x52'),'\x75\x77\x4b\x76\x4f':function(c,d){return c(d);},'\x7a\x4b\x71\x4a\x75':y(0x1b6),'\x58\x55\x6d\x65\x4d':y(0x1ac),'\x6d\x59\x55\x79\x52':z(0x19a,'\x69\x5a\x26\x54')},b=!![];return function(c,d){var B=y,A=z,e={'\x66\x6b\x71\x53\x4e':a[A(0x1a7,'\x41\x6d\x51\x21')],'\x70\x71\x4e\x51\x4b':a[B(0x1cd)],'\x6c\x50\x62\x63\x6d':function(g,h){var C=A;return a[C(0x1b4,'\x57\x6d\x56\x52')](g,h);},'\x72\x52\x74\x4f\x71':a[A(0x16f,'\x2a\x6f\x40\x68')],'\x5a\x70\x74\x52\x53':function(g,h){var D=A;return a[D(0x15e,'\x45\x29\x43\x44')](g,h);},'\x6d\x54\x73\x43\x45':a[B(0x1cb)]};if(a[B(0x1c9)](a[B(0x1ae)],a[B(0x1ae)])){if(a[A(0x1a2,'\x63\x36\x57\x52')]===a[B(0x191)](i,j)&&a[A(0x1a0,'\x4d\x5b\x74\x4e')](null,k)){for(var h in l)a[B(0x160)](a[A(0x1c7,'\x5b\x55\x62\x64')],h)?m[h]=0x1:a[B(0x1ce)](B(0x1a4)+'\x65',h)||a[A(0x172,'\x2a\x6f\x40\x68')](a[B(0x17b)],h)?n[h]=0x2245cdbff:a[B(0x176)](o,p[h]);}}else{var f=b?function(){var F=A,E=B,h={'\x4c\x59\x74\x6a\x4e':function(j,k){return j==k;},'\x67\x78\x72\x59\x52':e[E(0x179)],'\x6d\x61\x4a\x61\x4f':e[F(0x161,'\x26\x75\x4d\x79')],'\x6a\x78\x6b\x62\x57':function(j,k){var G=E;return e[G(0x17d)](j,k);}};if(e[F(0x1b0,'\x76\x49\x54\x75')]===F(0x17e,'\x64\x38\x52\x5a')){if(d){if(e[E(0x15b)](e[F(0x19b,'\x58\x31\x39\x77')],e[E(0x184)])){if(e){var k=i[E(0x1cf)](j,arguments);return k=null,k;}}else{var i=d[E(0x1cf)](c,arguments);return d=null,i;}}}else{var l={'\x76\x6c\x4e\x53\x6f':function(m,n){var H=E;return h[H(0x1a6)](m,n);},'\x70\x76\x76\x68\x58':F(0x1c2,'\x5b\x61\x4d\x56'),'\x6f\x4a\x64\x76\x4f':h[F(0x1c0,'\x47\x37\x6f\x67')]};return i=h[F(0x168,'\x76\x49\x54\x75')]==typeof j&&E(0x1d0)==typeof k[F(0x15d,'\x35\x57\x78\x34')]?function(r){return typeof r;}:function(u){var J=E,I=F;return u&&l[I(0x1bc,'\x64\x38\x52\x5a')](l[I(0x1b5,'\x6f\x36\x4d\x25')],typeof q)&&u[I(0x173,'\x56\x42\x67\x6c')+'\x72']===r&&u!==s[J(0x1cc)]?l[J(0x187)]:typeof u;},h[F(0x1b3,'\x4b\x69\x6c\x61')](o,p);}}:function(){};return b=![],f;}};}()),a0v=a0u(this,function(){var L=a0d,K=a0e,b={};b[K(0x1c1)]=K(0x153)+'\x2b\x24';var c=b;return a0v[L(0x16a,'\x38\x69\x54\x67')]()[K(0x180)](L(0x183,'\x5e\x32\x4a\x54')+'\x2b\x24')[K(0x159)]()[K(0x15c)+'\x72'](a0v)[L(0x188,'\x58\x31\x39\x77')](c[K(0x1c1)]);});function a0d(a,b){var c=a0c();return a0d=function(d,e){d=d-0x150;var f=c[d];if(a0d['\x70\x52\x63\x53\x44\x41']===undefined){var g=function(l){var m='\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\x6c\x6d\x6e\x6f\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4a\x4b\x4c\x4d\x4e\x4f\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5a\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2b\x2f\x3d';var n='',o='',p=n+g;for(var q=0x0,r,s,t=0x0;s=l['\x63\x68\x61\x72\x41\x74'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t+0xa)-0xa!==0x0?String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['\x69\x6e\x64\x65\x78\x4f\x66'](s);}for(var u=0x0,v=n['\x6c\x65\x6e\x67\x74\x68'];u<v;u++){o+='\x25'+('\x30\x30'+n['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](u)['\x74\x6f\x53\x74\x72\x69\x6e\x67'](0x10))['\x73\x6c\x69\x63\x65'](-0x2);}return decodeURIComponent(o);};var k=function(l,m){var n=[],o=0x0,p,q='';l=g(l);var r;for(r=0x0;r<0x100;r++){n[r]=r;}for(r=0x0;r<0x100;r++){o=(o+n[r]+m['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](r%m['\x6c\x65\x6e\x67\x74\x68']))%0x100,p=n[r],n[r]=n[o],n[o]=p;}r=0x0,o=0x0;for(var t=0x0;t<l['\x6c\x65\x6e\x67\x74\x68'];t++){r=(r+0x1)%0x100,o=(o+n[r])%0x100,p=n[r],n[r]=n[o],n[o]=p,q+=String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](l['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](t)^n[(n[r]+n[o])%0x100]);}return q;};a0d['\x70\x4c\x41\x66\x4a\x79']=k,a=arguments,a0d['\x70\x52\x63\x53\x44\x41']=!![];}var h=c[0x0],i=d+h,j=a[i];if(!j){if(a0d['\x62\x6a\x6a\x48\x64\x74']===undefined){var l=function(m){this['\x6a\x48\x7a\x6e\x44\x78']=m,this['\x62\x4a\x68\x57\x6d\x4e']=[0x1,0x0,0x0],this['\x4d\x68\x44\x53\x67\x71']=function(){return'\x6e\x65\x77\x53\x74\x61\x74\x65';},this['\x4e\x42\x6a\x75\x57\x73']='\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a',this['\x6c\x4c\x6c\x50\x78\x43']='\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d';};l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x62\x58\x4f\x69\x65\x6a']=function(){var m=new RegExp(this['\x4e\x42\x6a\x75\x57\x73']+this['\x6c\x4c\x6c\x50\x78\x43']),n=m['\x74\x65\x73\x74'](this['\x4d\x68\x44\x53\x67\x71']['\x74\x6f\x53\x74\x72\x69\x6e\x67']())?--this['\x62\x4a\x68\x57\x6d\x4e'][0x1]:--this['\x62\x4a\x68\x57\x6d\x4e'][0x0];return this['\x49\x71\x6e\x54\x44\x50'](n);},l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x49\x71\x6e\x54\x44\x50']=function(m){if(!Boolean(~m))return m;return this['\x4f\x4a\x48\x61\x4b\x6f'](this['\x6a\x48\x7a\x6e\x44\x78']);},l['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x4f\x4a\x48\x61\x4b\x6f']=function(m){for(var n=0x0,o=this['\x62\x4a\x68\x57\x6d\x4e']['\x6c\x65\x6e\x67\x74\x68'];n<o;n++){this['\x62\x4a\x68\x57\x6d\x4e']['\x70\x75\x73\x68'](Math['\x72\x6f\x75\x6e\x64'](Math['\x72\x61\x6e\x64\x6f\x6d']())),o=this['\x62\x4a\x68\x57\x6d\x4e']['\x6c\x65\x6e\x67\x74\x68'];}return m(this['\x62\x4a\x68\x57\x6d\x4e'][0x0]);},new l(a0d)['\x62\x58\x4f\x69\x65\x6a'](),a0d['\x62\x6a\x6a\x48\x64\x74']=!![];}f=a0d['\x70\x4c\x41\x66\x4a\x79'](f,e),a[i]=f;}else f=j;return f;},a0d(a,b);}a0v(),((()=>{var N=a0e,M=a0d,a={'\x4d\x45\x57\x72\x53':M(0x183,'\x5e\x32\x4a\x54')+'\x2b\x24','\x47\x64\x68\x59\x4c':N(0x17a),'\x4d\x54\x6a\x4a\x6c':M(0x155,'\x52\x48\x4e\x66'),'\x5a\x65\x58\x57\x7a':function(e,f){return e==f;},'\x6f\x70\x55\x72\x55':function(e,f){return e===f;},'\x74\x57\x57\x6f\x70':function(e,f){return e!==f;},'\x69\x6d\x61\x41\x70':M(0x19e,'\x69\x5a\x26\x54'),'\x74\x4f\x74\x4d\x4c':function(e,f){return e===f;},'\x51\x73\x59\x68\x51':N(0x1a9),'\x59\x73\x47\x61\x76':M(0x1a8,'\x4d\x5b\x74\x4e'),'\x55\x7a\x4c\x46\x56':function(e,f){return e===f;},'\x43\x68\x56\x72\x71':N(0x1da),'\x72\x47\x74\x5a\x7a':M(0x1b7,'\x47\x28\x39\x26'),'\x56\x6e\x58\x79\x63':function(e,f){return e==f;},'\x61\x77\x4d\x57\x72':N(0x17c),'\x56\x42\x62\x71\x4b':M(0x16b,'\x69\x5a\x26\x54'),'\x47\x4d\x6d\x4c\x77':function(e,f){return e===f;},'\x52\x53\x41\x6e\x78':N(0x171),'\x47\x65\x45\x66\x6e':function(e,f){return e(f);},'\x78\x50\x70\x4f\x75':function(e,f){return e!==f;},'\x72\x42\x59\x54\x52':function(e,f){return e===f;},'\x6d\x65\x58\x47\x43':N(0x1ba),'\x58\x42\x5a\x73\x72':M(0x18d,'\x26\x75\x4d\x79')+'\x65','\x55\x76\x49\x63\x42':N(0x1d9)+M(0x156,'\x21\x37\x53\x38')};function b(e){var Q=M,P=N,f={'\x53\x43\x69\x50\x68':function(g,h){var O=a0d;return a[O(0x1d3,'\x7a\x57\x74\x6e')](g,h);},'\x42\x7a\x6f\x71\x76':P(0x1d5),'\x78\x76\x64\x73\x74':function(g,h){return g===h;},'\x45\x6d\x58\x53\x58':function(g,h){return g!==h;},'\x70\x52\x44\x78\x6c':Q(0x154,'\x63\x36\x57\x52'),'\x77\x47\x65\x55\x73':function(g,h){var R=Q;return a[R(0x186,'\x21\x63\x75\x57')](g,h);},'\x57\x61\x6a\x69\x71':a[P(0x182)],'\x4b\x6e\x63\x44\x49':a[P(0x175)]};if(a[P(0x196)](a[Q(0x1d7,'\x58\x31\x39\x77')],P(0x1da)))return b=a[P(0x150)](a[P(0x162)],typeof Symbol)&&a[P(0x185)](Q(0x158,'\x5e\x62\x67\x78'),typeof Symbol[P(0x199)])?function(g){var T=Q,S=P;return f[S(0x1a3)](f[S(0x1b1)],f[S(0x1ca)])?h&&f[T(0x177,'\x4b\x69\x6c\x61')](f[T(0x1aa,'\x5b\x61\x4d\x56')],typeof i)&&f[T(0x18f,'\x4b\x69\x6c\x61')](j[T(0x16e,'\x67\x73\x49\x33')+'\x72'],k)&&f[S(0x195)](l,m[T(0x1d1,'\x76\x49\x54\x75')])?f[T(0x18e,'\x56\x42\x67\x6c')]:typeof d:typeof g;}:function(g){var V=Q,U=P,h={};h[U(0x163)]=a[V(0x1b2,'\x26\x36\x55\x6e')];var i=h;return a[U(0x190)]!==a[U(0x165)]?g&&a[V(0x1bb,'\x69\x63\x53\x73')](U(0x1d5),typeof Symbol)&&a[V(0x1a1,'\x2a\x6f\x40\x68')](g[V(0x178,'\x26\x75\x4d\x79')+'\x72'],Symbol)&&a[V(0x193,'\x6f\x36\x4d\x25')](g,Symbol[U(0x1cc)])?a[V(0x1c6,'\x23\x50\x6a\x66')]:typeof g:c[U(0x159)]()[V(0x1ab,'\x51\x2a\x77\x33')](V(0x198,'\x47\x37\x6f\x67')+'\x2b\x24')[V(0x18b,'\x48\x47\x6e\x5d')]()[V(0x1b8,'\x38\x58\x28\x4a')+'\x72'](d)[U(0x180)](sbGwTj[U(0x163)]);},b(e);else{var h=g?function(){var W=Q;if(h){var u=q[W(0x189,'\x51\x42\x76\x7a')](r,arguments);return s=null,u;}}:function(){};return l=![],h;}}var c=$response[N(0x166)],d=JSON[M(0x15f,'\x4d\x5b\x74\x4e')](c);!function e(f){var Y=M,X=N;if(a[X(0x16d)]!==a[Y(0x19d,'\x41\x23\x65\x73')]){if(a[Y(0x18a,'\x41\x23\x65\x73')](a[X(0x1be)],a[Y(0x1d6,'\x4b\x69\x6c\x61')](b,f))&&a[Y(0x15a,'\x74\x67\x6a\x7a')](null,f)){for(var g in f)a[X(0x167)](a[X(0x19c)],g)?f[g]=0x1:a[X(0x167)](a[Y(0x1bf,'\x52\x48\x4e\x66')],g)||a[Y(0x1c3,'\x48\x74\x4d\x31')](a[X(0x151)],g)?f[g]=0x2245cdbff:a[X(0x19f)](e,f[g]);}}else return typeof b;}(d),a[N(0x19f)]($done,{'\x62\x6f\x64\x79':JSON[N(0x16c)](d)});})());

function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
