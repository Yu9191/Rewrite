
/*
 * ËµõÁõæVPN
 * ÊèêÂèñËäÇÁÇπ

[rewrite_local]

http://(ga-bp12jenvgkuxtp83g76ya.aliyunga0019.com|(roudie.cn|saidun.fun))/saidun/version2/v2_node_protocol url script-response-body https://raw.githubusercontent.com/Yu9191/Rewrite/main/SDvpn.js
[mitm]

hostname = ga-bp12jenvgkuxtp83g76ya.aliyunga0019.com,roudie.cn,saidun.fun

*/
var iÔΩâl='jsjiami.com.v7';function iI1II1ii(_0x576d92,_0x1b4be3){const _0x588bd4=IIiIIil1();return iI1II1ii=function(_0x57ccca,_0x54b30f){_0x57ccca=_0x57ccca-0x86;let _0x30dddc=_0x588bd4[_0x57ccca];if(iI1II1ii['RyzBbQ']===undefined){var _0x5940a5=function(_0x46969e){const _0x19c71f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xcffc83='',_0x2acd6a='';for(let _0x36e205=0x0,_0x34476a,_0x2f5f3e,_0x733f39=0x0;_0x2f5f3e=_0x46969e['charAt'](_0x733f39++);~_0x2f5f3e&&(_0x34476a=_0x36e205%0x4?_0x34476a*0x40+_0x2f5f3e:_0x2f5f3e,_0x36e205++%0x4)?_0xcffc83+=String['fromCharCode'](0xff&_0x34476a>>(-0x2*_0x36e205&0x6)):0x0){_0x2f5f3e=_0x19c71f['indexOf'](_0x2f5f3e);}for(let _0x4abcfb=0x0,_0x410b59=_0xcffc83['length'];_0x4abcfb<_0x410b59;_0x4abcfb++){_0x2acd6a+='%'+('00'+_0xcffc83['charCodeAt'](_0x4abcfb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2acd6a);};const _0x4bdf8b=function(_0x5c4518,_0x5add03){let _0x22091b=[],_0x54086b=0x0,_0x53c99c,_0x2b4f02='';_0x5c4518=_0x5940a5(_0x5c4518);let _0x4ff054;for(_0x4ff054=0x0;_0x4ff054<0x100;_0x4ff054++){_0x22091b[_0x4ff054]=_0x4ff054;}for(_0x4ff054=0x0;_0x4ff054<0x100;_0x4ff054++){_0x54086b=(_0x54086b+_0x22091b[_0x4ff054]+_0x5add03['charCodeAt'](_0x4ff054%_0x5add03['length']))%0x100,_0x53c99c=_0x22091b[_0x4ff054],_0x22091b[_0x4ff054]=_0x22091b[_0x54086b],_0x22091b[_0x54086b]=_0x53c99c;}_0x4ff054=0x0,_0x54086b=0x0;for(let _0x4fa4cd=0x0;_0x4fa4cd<_0x5c4518['length'];_0x4fa4cd++){_0x4ff054=(_0x4ff054+0x1)%0x100,_0x54086b=(_0x54086b+_0x22091b[_0x4ff054])%0x100,_0x53c99c=_0x22091b[_0x4ff054],_0x22091b[_0x4ff054]=_0x22091b[_0x54086b],_0x22091b[_0x54086b]=_0x53c99c,_0x2b4f02+=String['fromCharCode'](_0x5c4518['charCodeAt'](_0x4fa4cd)^_0x22091b[(_0x22091b[_0x4ff054]+_0x22091b[_0x54086b])%0x100]);}return _0x2b4f02;};iI1II1ii['oeqRHT']=_0x4bdf8b,_0x576d92=arguments,iI1II1ii['RyzBbQ']=!![];}const _0x2caae6=_0x588bd4[0x0],_0x4c558f=_0x57ccca+_0x2caae6,_0x17a607=_0x576d92[_0x4c558f];return!_0x17a607?(iI1II1ii['TtAdlo']===undefined&&(iI1II1ii['TtAdlo']=!![]),_0x30dddc=iI1II1ii['oeqRHT'](_0x30dddc,_0x54b30f),_0x576d92[_0x4c558f]=_0x30dddc):_0x30dddc=_0x17a607,_0x30dddc;},iI1II1ii(_0x576d92,_0x1b4be3);}const i1i111iI=iI1II1ii;(function(i11i1lii,Ilili1I,Iiiilil1,I1iIIIII,Iiliil1I,i11liII,IlIIiiiI){return i11i1lii=i11i1lii>>0x2,i11liII='hs',IlIIiiiI='hs',function(iIlilIll,liliIili,iilillIl,Ii1i1l1l,Ili1Il1){const liIi1iIi=iI1II1ii;Ii1i1l1l='tfi',i11liII=Ii1i1l1l+i11liII,Ili1Il1='up',IlIIiiiI+=Ili1Il1,i11liII=iilillIl(i11liII),IlIIiiiI=iilillIl(IlIIiiiI),iilillIl=0x0;const lII1l11i=iIlilIll();while(!![]&&--I1iIIIII+liliIili){try{Ii1i1l1l=parseInt(liIi1iIi(0xf2,'s!3X'))/0x1*(parseInt(liIi1iIi(0xbd,'ip[x'))/0x2)+-parseInt(liIi1iIi(0xfa,'&&dd'))/0x3*(-parseInt(liIi1iIi(0x99,'Fahd'))/0x4)+parseInt(liIi1iIi(0x8f,'$KN*'))/0x5*(parseInt(liIi1iIi(0x128,'YewV'))/0x6)+-parseInt(liIi1iIi(0x11a,'G(w1'))/0x7+parseInt(liIi1iIi(0x89,'a&dw'))/0x8+-parseInt(liIi1iIi(0xe7,'XDRH'))/0x9+-parseInt(liIi1iIi(0xf4,'s!3X'))/0xa;}catch(l1liIlIi){Ii1i1l1l=iilillIl;}finally{Ili1Il1=lII1l11i[i11liII]();if(i11i1lii<=I1iIIIII)iilillIl?Iiliil1I?Ii1i1l1l=Ili1Il1:Iiliil1I=Ili1Il1:iilillIl=Ili1Il1;else{if(iilillIl==Iiliil1I['replace'](/[qVeYkJLxUurXNBRy=]/g,'')){if(Ii1i1l1l===liliIili){lII1l11i['un'+i11liII](Ili1Il1);break;}lII1l11i[IlIIiiiI](Ili1Il1);}}}}}(Iiiilil1,Ilili1I,function(I1ll1l1l,iiIi11I,Iiill1il,illIi11i,I1llI1i,IlIi1IlI,iIiiliil){return iiIi11I='\x73\x70\x6c\x69\x74',I1ll1l1l=arguments[0x0],I1ll1l1l=I1ll1l1l[iiIi11I](''),Iiill1il='\x72\x65\x76\x65\x72\x73\x65',I1ll1l1l=I1ll1l1l[Iiill1il]('\x76'),illIi11i='\x6a\x6f\x69\x6e',(0x1842a2,I1ll1l1l[illIi11i](''));});}(0x328,0x81f17,IIiIIil1,0xcc),IIiIIil1)&&(iÔΩâl=0x34d5);function IIiIIil1(){const i1IIii1I=(function(){return[iÔΩâl,'uuNjVNsqUxjLeiaLxYmkJUiUNB.RXcryoRmJ.uv7==','W5HKjCoadqtdPuFcSquLWPpdQa','WOKf5BYW5AwR5lUi6l2WyGlcPSk4W6tKUy3NORO','WQKsW5q','zb4/WPfz','W4zPWOv2','W7fxWQ4OW78','4P62WOtdQc7dMSowW57LIB3OV7VMIkNLI5RdI8op6k+457Ub57Uk','WOvnW6WFbW','W4ZcLehdG8kz','nCoZWOddOIFcLmkJgg5BW6O','W6CPW4RcHeLx','W4tcP8oFW6NdNa','WRzmW7yVWPVcVrO','W404WPnuFW','ECkrWOK','WRfswCk7W64hpf7cSCktwmk/ea','W7b3FColWRu','WP3dTUE8MowVMUs7KEwTJowFSCkkW40XWOCI5lU256oxW4KW6lsx6lY05lUr6lYx','xSkIW5eiW5y','WR/cNCkcW4JcPW','WR9iW68U','WOeCbCouWQ9+tYpcMa','pSohW5XuW4O','WPvnW6CmpCoFW6JcHmoFmmkSWPlcNSkA','WQvayb1N','kSkzWR4','FSk4WRGRsvlMIiVcN1VdMtJdI09AW47dJZ3dTmkzWQJdVmk4W5VMLy3MS6tMNi/MRPZNOAxLIiROV48','5O235y2H5OQP6zE0p2W','WQFcLZhcGmoxidZdMSkWW5ZdV8kpW5pcHY7cJa','4PYEWOqwWQClvIRLIPZOVOJMIRhLIk3dUSkM6k6657Qy57Mf','W5bNWQvapW','lmkRWP/dKLulpG','Amk+WQG3tH1xW6WyW4GVW49As8oOW5K','W7hdGSoKkCks','b18GW5H6oSor','WPPAW6WkpCos','W4hdG1tcHSoRoY/dGmkb','W4GaWO1Y','WPNcT8kVWOZdLW','W5r3WOq','W77dTCowgmoN','pHjlWQpdUa','W4NdVCoz','W40+v8oFyW','rwnQWR7cNa','W7eRW6/cK0W','WPxdOSkhW7yt','hWLjWPRdVW','8jw9HEwZM+MgIUwoPEwjQv3dLK3dGIJdG05wWRZOPz7LROlMIPtLIBi','W6OobG','k1az','W59kvW','W7lcMCocW6pdHq','AmkaW4WwW60'].concat((function(){return['FhGKW4pcQ3ddOSkLW5pcNMFdT8oz','W5iiD8o+zG','WQ7cN8oo','oSo1WOhdRs/cG8kUcK5CW6W','WOxcNmkK','WPtcNXxcLSoMpdy','8lAPLIS','W5hcGmk9fa','ihGbW5n9','EmowjSkYfL8AtSkmW5hdHSk5W4WE','W4NdMUE9SUwUQUs6QUwSKowDV8oaWQlcJCoXWOxKUidNO6v0W5tOTzZOV6pKUONOVRG','dCoKW60','W6mpaG','EmkuWPOEWPDxW7/dN8kQoCks','ofCBmZjnW6ZcMG','hJ96W40','WQRcLCkYWRO','jYr7WRddQZm','W7feWQX8WQO','WQr2vvi','WRFdNCkL','4PYUW6ZcHdnthM7LIj/OVyxMIRVLI4lcHHVOR4JNUARNUza','W4aBAt0A','smkKWPn+zq','WQWLB8kjtvVcNKxdKowoREMgM+AFJ+wSN+s5Iq','W6mte8oIWQ4','W7ldSmkVW5ji','WRhdRwJcId9S','CWjTWR7dVZFcGG','W4vDWOeRW5G','WQ01BSk6qq','yxPG','WO5UdqJdGG','W4pcK8ocW6VdSSkJjq','W4aaWOq','WQLsqInZ','WQVcLmk/','W55KWO5/kCoB','qmkYWRtdJLy','WR1lW64ijq','eCoS5B+r5AAm5lIX6lYpsmoluCohlUs5IEEGUG','rSkEW4BcS0q','W4BdLmkk','C8kvWOjfxa','W6ddOSkEW7fA','ySkcWRSmFq','W77cH8knW6H1ECk6lCkoWRm','W6tdQ8kOW65/','WPKiW57cJhTdzeCkoIZdOq','W73dN8o6m8k8','WO7dQ8k2W5Ct','WPVcLSkWW63cJIK','n8ohW5TXW7W','yCkpWQxdRvC','WOZcO8krWRH6','WOtcL8koy8khWORcNmkmW4DjnmkrWOi'].concat((function(){return['x8oUW5NdIN4WqSoCjLLQESkZ','W4zrWOS0W48','WPtdNCoTqXpdISkZfI4SW4SUWQi','z8khWPRdVvijcq','W5vkzmotWQe','WRTlsqnt','WRVcJSkfWOJdSq','C8khWPRdILapaCkCoG','W77dRmozdmod','W6xcGSoqWRC','lCoBWONdPqiMiq','5P+M556z6zAU6kYp','jCkvW7tcKvfyx1/dTfuJFmoK','WRhcTSkuW6ZcTW','WOO7W73cPNG','WQLjCs5N','WPpcJ8oyWQa5EwRcVwhcM8o2','WP3cMWZcLW','W4ldJ1tdI8k/EgxdRmkzWO7dMSk9WPq','6lA055QPqmkPDW','W64XxGnEWQXfW6ldNa','rCkTWRWI','W4FcKCo3W4hdVq','huyriIm','WOLaW7q+WRy','ySknrZHQ','W6ZcKxScWOa','W57dL8oA','WP5HhSozW4S','FCkIWOfU','WO7cLSk3W4VcGs83W6BcMq','W6yRfSkv','DSovaa','kK0MjdrnW63cKW','WQTYgmoj','B1S4esjRW40','W4WAEsei','rICIWQnr','W5NcMmoqW6a','WQDSCJPJ','W57cL8oBW6O','rCkjW5/cN1a','nLybiduEWQZdM0j+q8kceKjvqxRdLmksW6dcINnjemknWQJdH27cMWG4EaFcQmosxZrYdHldI1KBumkVW4rTWQrchCoZW73dJG4jW4ddOuSwiJ9j','WOSYDCklqetcOa','WP/cPSkXWORdVq','WR1gW6u','WP1dgbSi','W7vlWOFdLt9sohG6jW/dIfe','8jM4UKC','xSoFbcCVW48VnmoWqI0uy8oSWQW','W6/cGmo2WR9rjfFcR8kPDu0uhG','xICk','W7HrrCoUWQa','WQPLe8op','WPKiW57cJhTdr0OboYRdSsBdRa'];}()));}()));}());IIiIIil1=function(){return i1IIii1I;};return IIiIIil1();};const $=new Env(i1i111iI(0xfb,'wCXo'),{'logLevel':i1i111iI(0x10e,'oAMo')});var body=$response[i1i111iI(0x107,'D$cQ')];$[i1i111iI(0xad,'$KN*')](body);const code=/"code":(\d+)/[i1i111iI(0x10a,'RLoG')](body)?.[0x1]||0x0;$[i1i111iI(0xda,'hoQL')](i1i111iI(0xcb,'$)Gf')+code);code!=0xc8?($[i1i111iI(0xc9,'a&dw')](i1i111iI(0x95,'$)Gf')+(body[i1i111iI(0x88,'Fahd')]||i1i111iI(0xf3,'u*Z&'))),$[i1i111iI(0x11d,'RLoG')]({})):((async()=>{const I1l1illi=i1i111iI,l1Iil1il={'MHdVp':function(I1ii1II1){return I1ii1II1();},'HvmNb':I1l1illi(0xe0,'u*Z&'),'XMDMK':function(illII1Il,i1iI1l1){return illII1Il+i1iI1l1;},'Cddre':I1l1illi(0x11e,'u*Z&'),'aWpCZ':function(iiII1,lliil1iI){return iiII1!==lliil1iI;},'aKamR':I1l1illi(0xbe,'Lwuk'),'yauVS':function(II1llIIi,lIi1lii1){return II1llIIi===lIi1lii1;},'umKtd':I1l1illi(0x116,'zb%k'),'BYMgf':I1l1illi(0x94,']o&G'),'JIziu':I1l1illi(0x9a,']o&G'),'vQomk':I1l1illi(0xc8,'wCXo'),'XKBDA':I1l1illi(0x96,'&&dd'),'TLTQY':function(lI1iIliI,ililI1II,IiIIiill,ll1i111l,IIIIiiil){return lI1iIliI(ililI1II,IiIIiill,ll1i111l,IIIIiiil);},'bfEXb':I1l1illi(0x119,'ZrZ)'),'XPqIU':I1l1illi(0xaa,']o&G'),'cXgNu':I1l1illi(0xc2,'EzlF')};try{const iiIlii11=await l1Iil1il[I1l1illi(0xf0,'XDRH')](loadUtils);$[I1l1illi(0x11b,'VA)M')](l1Iil1il[I1l1illi(0xa6,'5hzH')]),$[I1l1illi(0xa4,'J^7X')](l1Iil1il[I1l1illi(0xc6,'Cjd4')](l1Iil1il[I1l1illi(0xff,'Lwuk')],JSON[I1l1illi(0xfc,'g0j8')](iiIlii11)));if(!iiIlii11||l1Iil1il[I1l1illi(0x87,'&IHU')](typeof iiIlii11[I1l1illi(0x91,'sqt3')],l1Iil1il[I1l1illi(0xcd,'EzlF')])){if(l1Iil1il[I1l1illi(0xe4,'ip[x')](l1Iil1il[I1l1illi(0xe5,'Fahd')],l1Iil1il[I1l1illi(0xa7,'jva&')]))throw new ReferenceError(l1Iil1il[I1l1illi(0xe6,'Mg4e')]);else I1lii11[I1l1illi(0x9f,'&IHU')]({'body':IiiIIlIl});}const lI1IlllI=iiIlii11[I1l1illi(0xb9,'$caX')]();$[I1l1illi(0xb2,'ujcF')](l1Iil1il[I1l1illi(0xed,'f]Li')]);if(!lI1IlllI)throw new ReferenceError(l1Iil1il[I1l1illi(0x101,'%64@')]);body=$[I1l1illi(0x10d,'VA)M')](body);const l1l1ilii=body[I1l1illi(0xe3,'%Cw1')][I1l1illi(0xac,'Lwuk')],l1l1il1l=lI1IlllI[I1l1illi(0xbc,'a&dw')][I1l1illi(0xc3,'f]Li')][I1l1illi(0x114,'gNO^')](l1Iil1il[I1l1illi(0xf7,'f]Li')]),liIIll1l=lI1IlllI[I1l1illi(0xd4,'Mg4e')][I1l1illi(0xbf,'DYzR')][I1l1illi(0x90,'ip[x')](l1Iil1il[I1l1illi(0xca,'hoQL')]),ill11iI1=l1Iil1il[I1l1illi(0x10c,'Cjd4')](AES_Decrypt,l1l1ilii,l1l1il1l,liIIll1l,lI1IlllI);$[I1l1illi(0xd2,'&IHU')](l1Iil1il[I1l1illi(0xe1,'J^7X')](l1Iil1il[I1l1illi(0x98,'PMJi')],ill11iI1)),$[I1l1illi(0x103,'XDRH')]($[I1l1illi(0xfd,']o&G')],l1Iil1il[I1l1illi(0xd3,'f]Li')],l1Iil1il[I1l1illi(0xdb,'s%Oi')][I1l1illi(0x129,'jva&')](ill11iI1));}catch(Il1I11iI){$[I1l1illi(0xc1,'DYzR')](Il1I11iI);}finally{$[I1l1illi(0xc0,'Mg4e')]({'body':body});}})());function AES_Decrypt(lii1Il1,l1IlI111,iIIIIIll,III1IilI){const l1I1IIi1=i1i111iI;var ii11iI1=III1IilI[l1I1IIi1(0x93,'u4&C')][l1I1IIi1(0x113,'wCXo')](lii1Il1,l1IlI111,{'iv':iIIIIIll,'mode':III1IilI[l1I1IIi1(0x105,'s%Oi')][l1I1IIi1(0xbb,'ip[x')],'padding':III1IilI[l1I1IIi1(0xa1,'EzlF')][l1I1IIi1(0x104,'RLoG')]});return ii11iI1[l1I1IIi1(0x109,'Lwuk')](III1IilI[l1I1IIi1(0x121,'u*Z&')][l1I1IIi1(0xf1,'oAMo')]);}async function loadUtils(){const Ii1l1lI=i1i111iI,lIliIli1={'XivuL':Ii1l1lI(0xde,']q&5'),'TBUof':function(I1IlIl1l,iili1IiI){return I1IlIl1l(iili1IiI);},'TPZWe':function(llIiilIi){return llIiilIi();},'srnrN':function(lllllI1I,llliII11){return lllllI1I!==llliII11;},'UANnu':Ii1l1lI(0xa0,'gNO^'),'bGkrE':Ii1l1lI(0xf5,'%Cw1'),'foTsb':function(IlIiIiIl,Iiilili){return IlIiIiIl(Iiilili);},'TIFqi':function(IiIl1i11,li1lilii){return IiIl1i11(li1lilii);},'kBJAe':function(i1l1II1){return i1l1II1();},'VnAPE':Ii1l1lI(0x112,'Lwuk'),'tQifO':function(iI1iI1I,llII1ll1){return iI1iI1I===llII1ll1;},'wgANn':Ii1l1lI(0x8a,'$KN*'),'vXlIV':Ii1l1lI(0x122,'VA)M'),'TBSwA':function(IIiliI1i,IlIIlI){return IIiliI1i(IlIIlI);},'BbxCx':function(iiiiiIll){return iiiiiIll();}};let lIiIlii=$[Ii1l1lI(0x86,'I%MB')](lIliIli1[Ii1l1lI(0xaf,'#67e')])||'';if(lIiIlii&&lIiIlii[Ii1l1lI(0x9d,'sqt3')]){if(lIliIli1[Ii1l1lI(0x12a,'oAMo')](lIliIli1[Ii1l1lI(0xfe,'oAMo')],lIliIli1[Ii1l1lI(0x102,'61lt')]))IIIIlI1i[Ii1l1lI(0xd1,'oAMo')](ll11ilII,lIliIli1[Ii1l1lI(0xc7,'s%Oi')]),lIliIli1[Ii1l1lI(0xa9,'DYzR')](i1liIl,lI1l11I1),I111iiIl[Ii1l1lI(0xcf,'5hzH')](Ii1l1lI(0x97,'$caX')),lIliIli1[Ii1l1lI(0xb8,'WVGR')](l1iiIlII,lIliIli1[Ii1l1lI(0xd6,'Fahd')](l111II11));else return console[Ii1l1lI(0x108,'ZrZ)')]('‚úÖ\x20'+$[Ii1l1lI(0x110,'oAMo')]+Ii1l1lI(0xba,'&&dd')),lIliIli1[Ii1l1lI(0x92,'f]Li')](eval,lIiIlii),lIliIli1[Ii1l1lI(0xce,'wCXo')](creatUtils);}return console[Ii1l1lI(0xcf,'5hzH')](Ii1l1lI(0x118,'ZrZ)')+$[Ii1l1lI(0x110,'oAMo')]+Ii1l1lI(0x120,'$KN*')),new Promise(i111l1I=>{const iliIII1i=Ii1l1lI,l1IIiIiI={'INjKG':lIliIli1[iliIII1i(0xd0,'Lmw^')],'JYsgS':function(iIl1IlIl,i1Il1il){const li1iIIi1=iliIII1i;return lIliIli1[li1iIIi1(0xb1,'rEzL')](iIl1IlIl,i1Il1il);},'KtuNc':function(iI1IlIIi){const lll1IIll=iliIII1i;return lIliIli1[lll1IIll(0x9b,'J^7X')](iI1IlIIi);},'Ktlel':lIliIli1[iliIII1i(0x10f,'f]Li')]};$[iliIII1i(0x106,'%Cw1')](lIliIli1[iliIII1i(0x8d,'%Cw1')])[iliIII1i(0x123,'PMJi')](liliIiII=>{const lilIIlIl=iliIII1i;if(lIliIli1[lilIIlIl(0x126,'sqt3')](lIliIli1[lilIIlIl(0x124,'EzlF')],lIliIli1[lilIIlIl(0xe9,'EzlF')]))$[lilIIlIl(0x9c,'WVGR')](liliIiII,lIliIli1[lilIIlIl(0x100,'I%MB')]),lIliIli1[lilIIlIl(0xec,'$KN*')](eval,liliIiII),console[lilIIlIl(0xab,'a&dw')](lilIIlIl(0xc5,']o&G')),lIliIli1[lilIIlIl(0xee,'gNO^')](i111l1I,lIliIli1[lilIIlIl(0x127,'q]()')](creatUtils));else{const IIl1IiIi={'uYWVa':l1IIiIiI[lilIIlIl(0x111,'YewV')],'FGJFp':function(ilI1l1il,IIilii1I){const i11IIll1=lilIIlIl;return l1IIiIiI[i11IIll1(0xdc,'hoQL')](ilI1l1il,IIilii1I);},'BotlV':function(l11Illii){const i1Iilili=lilIIlIl;return l1IIiIiI[i1Iilili(0x11c,'$KN*')](l11Illii);},'nKkkw':l1IIiIiI[lilIIlIl(0xd7,'sqt3')]};let II1IIiI1=ii1ill11[lilIIlIl(0xb5,'&&dd')](l1IIiIiI[lilIIlIl(0xdd,']o&G')])||'';if(II1IIiI1&&II1IIiI1[lilIIlIl(0xd5,'PMJi')])return lllll11l[lilIIlIl(0x115,'I%MB')]('‚úÖ\x20'+IIiilIlI[lilIIlIl(0x8e,'I%MB')]+lilIIlIl(0x8b,'q]()')),l1IIiIiI[lilIIlIl(0xd9,'YewV')](llIIIli,II1IIiI1),l1IIiIiI[lilIIlIl(0xa5,'rEzL')](IiIi1Ii);return lII1lii1[lilIIlIl(0xc4,'G(w1')](lilIIlIl(0xb6,'q]()')+l1illlii[lilIIlIl(0xf9,'&&dd')]+lilIIlIl(0xd8,']o&G')),new iI11ili(llIII1iI=>{const illill1=lilIIlIl,IIll1iii={'UYtYv':IIl1IiIi[illill1(0xa3,'DYzR')],'NPExv':function(i1iiiI,ilIill){const l1i1ii11=illill1;return IIl1IiIi[l1i1ii11(0xf6,'u*Z&')](i1iiiI,ilIill);},'MQkBT':function(Ili1I){const I1l1111I=illill1;return IIl1IiIi[I1l1111I(0xae,'oAMo')](Ili1I);}};Il111l1l[illill1(0xef,'Fahd')](IIl1IiIi[illill1(0x8c,'#67e')])[illill1(0xb7,'YRP4')](Iii1Ill=>{const l11i11ii=illill1;lilill1I[l11i11ii(0xeb,'Fahd')](Iii1Ill,IIll1iii[l11i11ii(0xe2,'G(w1')]),IIll1iii[l11i11ii(0xdf,'hoQL')](illIiiI1,Iii1Ill),illiIiI[l11i11ii(0xb4,'%Cw1')](l11i11ii(0x125,'XDRH')),IIll1iii[l11i11ii(0xa8,'G(w1')](llIII1iI,IIll1iii[l11i11ii(0xa2,'XDRH')](iI1IIi1));});});}});});}var version_ = 'jsjiami.com.v7';

function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t);break;case"Node.js":this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
