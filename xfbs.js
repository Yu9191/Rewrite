/**
  * 小凡博士 
  * by:iu
  * 频道：https://t.me/Jsforbaby
[rewrite_local]
https?:\/\/xfapi\.fingerabc\.cn\/+api\/(cf\/vip\/queryList|bookModule\/get\/bookModuleAsNew|lesson\/(queryCalendarBook|queryLessons)|product\/getCategoryProduct|tagMaterial\/queryVipStatus).* url script-response-body https://raw.githubusercontent.com/Yu9191/Rewrite/main/xfbs.js

[mitm]
hostname = xfapi.fingerabc.cn

**/
































var iｉl='jsjiami.com.v7';const II1111l1=IIil11lI;if(function(liI11I1l,Iiiii1li,i1IllIlI,llii111i,lIi1iI1,l111lIii,l1ll1II1){return liI11I1l=liI11I1l>>0x7,l111lIii='hs',l1ll1II1='hs',function(Il1l1l1l,IIIl1II,i1i1ilI,l1iIlII1,l1l11iII){const I1iIiIli=IIil11lI;l1iIlII1='tfi',l111lIii=l1iIlII1+l111lIii,l1l11iII='up',l1ll1II1+=l1l11iII,l111lIii=i1i1ilI(l111lIii),l1ll1II1=i1i1ilI(l1ll1II1),i1i1ilI=0x0;const llIiIi11=Il1l1l1l();while(!![]&&--llii111i+IIIl1II){try{l1iIlII1=-parseInt(I1iIiIli(0x8c,'u^Q*'))/0x1*(parseInt(I1iIiIli(0xb9,'k1hL'))/0x2)+parseInt(I1iIiIli(0xe6,'v]u0'))/0x3+parseInt(I1iIiIli(0xc1,'xKD^'))/0x4*(parseInt(I1iIiIli(0xee,'3Q8^'))/0x5)+parseInt(I1iIiIli(0x109,'5Xu#'))/0x6*(parseInt(I1iIiIli(0x133,'qC1U'))/0x7)+-parseInt(I1iIiIli(0x9b,'rdqe'))/0x8+-parseInt(I1iIiIli(0xf1,'3EpL'))/0x9+parseInt(I1iIiIli(0x9c,'K]ku'))/0xa*(parseInt(I1iIiIli(0x12a,'Tf5g'))/0xb);}catch(il1IIIi){l1iIlII1=i1i1ilI;}finally{l1l11iII=llIiIi11[l111lIii]();if(liI11I1l<=llii111i)i1i1ilI?lIi1iI1?l1iIlII1=l1l11iII:lIi1iI1=l1l11iII:i1i1ilI=l1l11iII;else{if(i1i1ilI==lIi1iI1['replace'](/[JETAdurMULNwDOHflQt=]/g,'')){if(l1iIlII1===IIIl1II){llIiIi11['un'+l111lIii](l1l11iII);break;}llIiIi11[l1ll1II1](l1l11iII);}}}}}(i1IllIlI,Iiiii1li,function(I1I1I1l,lllli1Il,Iillil1,I1iIi1Ii,IliII1I,Iil1I1il,iilIiiii){return lllli1Il='\x73\x70\x6c\x69\x74',I1I1I1l=arguments[0x0],I1I1I1l=I1I1I1l[lllli1Il](''),Iillil1='\x72\x65\x76\x65\x72\x73\x65',I1I1I1l=I1I1I1l[Iillil1]('\x76'),I1iIi1Ii='\x6a\x6f\x69\x6e',(0x19533a,I1I1I1l[I1iIi1Ii](''));});}(0x5f80,0x6967b,I1illiIi,0xc1),I1illiIi){}const $=new Env(II1111l1(0xd5,'X3T@'),{'logLevel':II1111l1(0xf5,'3M$I')});let body=$response[II1111l1(0xec,'3EpL')],keyStr=II1111l1(0xe9,'KWEs'),ivStr=II1111l1(0x11c,'5Xu#'),url=$request[II1111l1(0xde,'u^Q*')];((async()=>{const Ill1iIIi=II1111l1,iII1l11i={'mczPn':function(liilliii,Iil111I1){return liilliii(Iil111I1);},'lqYUI':function(iI1Iiiii,l1I1Ill1){return iI1Iiiii!==l1I1Ill1;},'JsvCm':Ill1iIIi(0x131,'pdV('),'YJVDv':Ill1iIIi(0x124,'pdV('),'qzkYz':function(illI1l1I,i11IliIi){return illI1l1I===i11IliIi;},'ByEay':Ill1iIIi(0x103,'puZF'),'zNAxn':Ill1iIIi(0x12f,'s)D@'),'oOTme':function(lIliiiII,llilII1l){return lIliiiII(llilII1l);},'BuYXi':Ill1iIIi(0x107,'HQGb'),'AFpuY':Ill1iIIi(0x101,'uF45'),'vAYuN':Ill1iIIi(0x82,'vElL'),'ojWpP':function(lIlIl1li){return lIlIl1li();},'CQJLH':function(IIIIil1i,I1II1){return IIIIil1i!==I1II1;},'BloeB':Ill1iIIi(0xc6,'uF45'),'WLcPF':function(II1liil1,iiIIi1I){return II1liil1!==iiIIi1I;},'tjCeA':Ill1iIIi(0xd9,'pdV('),'pJneD':Ill1iIIi(0xac,'i3!F'),'najPv':Ill1iIIi(0x87,'KWEs'),'yTfZC':Ill1iIIi(0x85,'xisc'),'lvHoo':function(IIIi11I1,Iiill1lI){return IIIi11I1!==Iiill1lI;},'yKclu':Ill1iIIi(0x132,'fg@q'),'BbDEt':Ill1iIIi(0xe8,'[sr]'),'ZpiGA':function(llIii1l1,I1IllI11){return llIii1l1!==I1IllI11;},'nciOZ':Ill1iIIi(0xcb,'(&ti'),'xRTfr':function(illIl1l,iIII1i11){return illIl1l(iIII1i11);},'bTJxo':Ill1iIIi(0xbf,'Xok$'),'GWKcj':function(iIIli1il,i1ilIIi1,I11l1lII,l1I1ii1,iiillIII){return iIIli1il(i1ilIIi1,I11l1lII,l1I1ii1,iiillIII);},'VmLQl':function(l1llIi1,li1IIlli){return l1llIi1(li1IIlli);}};try{const lli11lli=await iII1l11i[Ill1iIIi(0x99,'3EpL')](loadUtils);if(!lli11lli||iII1l11i[Ill1iIIi(0x143,'K]ku')](typeof lli11lli[Ill1iIIi(0x149,'f]z1')],iII1l11i[Ill1iIIi(0x148,'v]u0')])){if(iII1l11i[Ill1iIIi(0x122,'f]z1')](iII1l11i[Ill1iIIi(0xfb,'u^Q*')],iII1l11i[Ill1iIIi(0x13e,'F3gF')]))iII1l11i[Ill1iIIi(0x130,'[sr]')](illIi1II,IiII1I11[Ill1iIIi(0xb5,'YEqf')]);else throw new ReferenceError(iII1l11i[Ill1iIIi(0x98,'pMH2')]);}const iiIll111=lli11lli[Ill1iIIi(0xf8,'9YsH')]();if(!iiIll111)throw new ReferenceError(iII1l11i[Ill1iIIi(0xed,'5yN6')]);let lll1l1l1=JSON[Ill1iIIi(0xc4,'K]ku')](body);function I1I1III1(IIilliii){const ii1iIIll=Ill1iIIi;iII1l11i[ii1iIIll(0xa6,'3EpL')](iII1l11i[ii1iIIll(0x121,'fg@q')],iII1l11i[ii1iIIll(0x112,'3EpL')])?Ii111Ii1[Il1lll11]=0x3:Array[ii1iIIll(0x91,'#kS7')](IIilliii)&&IIilliii[ii1iIIll(0xb8,'9YsH')](iiil1iiI=>{const ll1iIIli=ii1iIIll;if(iII1l11i[ll1iIIli(0xd6,'v]u0')](iII1l11i[ll1iIIli(0xff,'aNJC')],iII1l11i[ll1iIIli(0x13d,'xisc')])){iiil1iiI[ll1iIIli(0x105,'pdV(')]&&(iiil1iiI[ll1iIIli(0xf6,'v]u0')]=0x1);for(let IIIliiii in iiil1iiI){iII1l11i[ll1iIIli(0x114,'rdqe')](iII1l11i[ll1iIIli(0x120,'3M$I')],iII1l11i[ll1iIIli(0x10a,'pMH2')])?iiil1iiI[IIIliiii]&&iII1l11i[ll1iIIli(0xeb,'aJAx')](typeof iiil1iiI[IIIliiii],iII1l11i[ll1iIIli(0x9e,'5yN6')])&&iII1l11i[ll1iIIli(0xbb,'Xok$')](I1I1III1,iiil1iiI[IIIliiii]):IliliIl[IlllII1l]='3';}}else lII1ii1i[lliliii1]=0x1;});}if(url[Ill1iIIi(0x110,'E^p]')](iII1l11i[Ill1iIIi(0xe2,'3M$I')])){if(iII1l11i[Ill1iIIi(0x134,'xisc')](iII1l11i[Ill1iIIi(0xa5,'aI5I')],iII1l11i[Ill1iIIi(0x127,'3Q8^')])){if(lll1l1l1[Ill1iIIi(0x11b,'Xok$')]&&Array[Ill1iIIi(0xea,'rdqe')](lll1l1l1[Ill1iIIi(0xce,'F3gF')])){if(iII1l11i[Ill1iIIi(0x81,'9YsH')](iII1l11i[Ill1iIIi(0x137,'3Q8^')],iII1l11i[Ill1iIIi(0x10e,'3M$I')])){iI1lllIi[Ill1iIIi(0x14b,'3EpL')](iII1l11i[Ill1iIIi(0x13f,'vElL')]),l1i1iili[Ill1iIIi(0x146,'S3Fg')]({'body':l11IiI1i});return;}else iII1l11i[Ill1iIIi(0x10f,'v]u0')](I1I1III1,lll1l1l1[Ill1iIIi(0xaf,'QPY[')]);}}else iI1I1Il[Ill1iIIi(0xd4,'5yN6')](IIIi11Ii),lII11iiI[Ill1iIIi(0x8e,'9%NK')]({'body':II1II1l1});}if(iII1l11i[Ill1iIIi(0xf4,'xisc')](typeof lll1l1l1[Ill1iIIi(0x11f,'9%NK')],iII1l11i[Ill1iIIi(0x104,'eLBY')])){const li1llii=iII1l11i[Ill1iIIi(0xb6,'xKD^')](DES3_Decrypt,lll1l1l1[Ill1iIIi(0xa3,'YEqf')],keyStr,ivStr,iiIll111);try{let liliiI=JSON[Ill1iIIi(0xd3,'rdqe')](li1llii);iII1l11i[Ill1iIIi(0xa7,'X3T@')](updateProperties,liliiI),lll1l1l1[Ill1iIIi(0xb0,'HQGb')]=iII1l11i[Ill1iIIi(0xb4,'5Xu#')](DES3_Encrypt,JSON[Ill1iIIi(0xc2,'rdqe')](liliiI),keyStr,ivStr,iiIll111);}catch(lIIi11il){$[Ill1iIIi(0x140,'uF45')](iII1l11i[Ill1iIIi(0x128,'F3gF')]),$[Ill1iIIi(0xcf,'eLBY')]({'body':body});return;}}body=JSON[Ill1iIIi(0xe0,'&4Mq')](lll1l1l1),$[Ill1iIIi(0xe5,'aJAx')]({'body':body});}catch(II1ll1ii){$[Ill1iIIi(0x106,'eLBY')](II1ll1ii),$[Ill1iIIi(0x146,'S3Fg')]({'body':body});}})());function updateProperties(IiiI1ll1){const IllI1iii=II1111l1,ilIilIli={'abSGS':function(l1ii1III,lIiIII11){return l1ii1III===lIiIII11;},'QrQSI':IllI1iii(0x13c,'puZF'),'MJfMz':function(i1IIil1I,Iil1iiii){return i1IIil1I!==Iil1iiii;},'ZTzjc':IllI1iii(0xa0,'rdqe'),'ZBHtK':IllI1iii(0x147,'rdqe'),'zNmBG':IllI1iii(0x12d,'aI5I'),'KhTKU':IllI1iii(0xf2,'YEqf'),'YjkER':function(IlI11Iil,Il1IliI1){return IlI11Iil===Il1IliI1;},'KvteN':IllI1iii(0x108,'#kS7'),'UGslI':IllI1iii(0x13a,'aNJC'),'NIBYy':IllI1iii(0x125,'xKD^'),'LrVIR':IllI1iii(0x11a,'&4Mq'),'wEvjb':function(II11lli1,lIilI1Il){return II11lli1===lIilI1Il;},'EwUNP':IllI1iii(0xe7,'qC1U'),'MdvQa':IllI1iii(0xc7,'v]u0'),'YnpDh':function(lIliiIl,i11Iiiil){return lIliiIl(i11Iiiil);}};if(ilIilIli[IllI1iii(0x139,'(&ti')](typeof IiiI1ll1,ilIilIli[IllI1iii(0x126,'QPY[')])&&ilIilIli[IllI1iii(0x93,'AGw4')](IiiI1ll1,null))for(let lIili1i1 in IiiI1ll1){if(IiiI1ll1[IllI1iii(0x119,'3EpL')](lIili1i1)){if(ilIilIli[IllI1iii(0xda,'fg@q')](lIili1i1,ilIilIli[IllI1iii(0xcd,'3EpL')]))IiiI1ll1[lIili1i1]=0x1;else{if([ilIilIli[IllI1iii(0x142,'3M$I')],ilIilIli[IllI1iii(0x100,'aJAx')],ilIilIli[IllI1iii(0xd8,'aI5I')]][IllI1iii(0x80,'lM9k')](lIili1i1))IiiI1ll1[lIili1i1]=0x1;else{if(ilIilIli[IllI1iii(0x9f,'[sr]')](lIili1i1,ilIilIli[IllI1iii(0xfc,'E^p]')]))IiiI1ll1[lIili1i1]='1';else{if(ilIilIli[IllI1iii(0x14c,'3EpL')](lIili1i1,ilIilIli[IllI1iii(0x141,'ih#X')]))IiiI1ll1[lIili1i1]=ilIilIli[IllI1iii(0xf0,'Xok$')];else{if(ilIilIli[IllI1iii(0x96,'QPY[')](lIili1i1,ilIilIli[IllI1iii(0x84,'rdqe')]))IiiI1ll1[lIili1i1]=0x3;else{if(ilIilIli[IllI1iii(0x111,'9YsH')](lIili1i1,ilIilIli[IllI1iii(0xdf,'[sr]')]))IiiI1ll1[lIili1i1]='3';else ilIilIli[IllI1iii(0x102,'i3!F')](lIili1i1,ilIilIli[IllI1iii(0x95,'ih#X')])?IiiI1ll1[lIili1i1]=0x1:ilIilIli[IllI1iii(0xd1,'aNJC')](updateProperties,IiiI1ll1[lIili1i1]);}}}}}}}}function IIil11lI(_0xd6fefb,_0x2b4b91){const _0x30a531=I1illiIi();return IIil11lI=function(_0x39ed25,_0x55330){_0x39ed25=_0x39ed25-0x7e;let _0x3ff021=_0x30a531[_0x39ed25];if(IIil11lI['lQtMXo']===undefined){var _0x125882=function(_0x5cf223){const _0x1aafd7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x549de7='',_0x4e93e0='';for(let _0x52b0d9=0x0,_0x52eb39,_0xd1762f,_0x4cc784=0x0;_0xd1762f=_0x5cf223['charAt'](_0x4cc784++);~_0xd1762f&&(_0x52eb39=_0x52b0d9%0x4?_0x52eb39*0x40+_0xd1762f:_0xd1762f,_0x52b0d9++%0x4)?_0x549de7+=String['fromCharCode'](0xff&_0x52eb39>>(-0x2*_0x52b0d9&0x6)):0x0){_0xd1762f=_0x1aafd7['indexOf'](_0xd1762f);}for(let _0x106995=0x0,_0x5cd3e1=_0x549de7['length'];_0x106995<_0x5cd3e1;_0x106995++){_0x4e93e0+='%'+('00'+_0x549de7['charCodeAt'](_0x106995)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4e93e0);};const _0xde985b=function(_0xb1625f,_0x28aac7){let _0x14de77=[],_0xada8c0=0x0,_0x4d5d3f,_0x429768='';_0xb1625f=_0x125882(_0xb1625f);let _0x7d4e45;for(_0x7d4e45=0x0;_0x7d4e45<0x100;_0x7d4e45++){_0x14de77[_0x7d4e45]=_0x7d4e45;}for(_0x7d4e45=0x0;_0x7d4e45<0x100;_0x7d4e45++){_0xada8c0=(_0xada8c0+_0x14de77[_0x7d4e45]+_0x28aac7['charCodeAt'](_0x7d4e45%_0x28aac7['length']))%0x100,_0x4d5d3f=_0x14de77[_0x7d4e45],_0x14de77[_0x7d4e45]=_0x14de77[_0xada8c0],_0x14de77[_0xada8c0]=_0x4d5d3f;}_0x7d4e45=0x0,_0xada8c0=0x0;for(let _0xa214b4=0x0;_0xa214b4<_0xb1625f['length'];_0xa214b4++){_0x7d4e45=(_0x7d4e45+0x1)%0x100,_0xada8c0=(_0xada8c0+_0x14de77[_0x7d4e45])%0x100,_0x4d5d3f=_0x14de77[_0x7d4e45],_0x14de77[_0x7d4e45]=_0x14de77[_0xada8c0],_0x14de77[_0xada8c0]=_0x4d5d3f,_0x429768+=String['fromCharCode'](_0xb1625f['charCodeAt'](_0xa214b4)^_0x14de77[(_0x14de77[_0x7d4e45]+_0x14de77[_0xada8c0])%0x100]);}return _0x429768;};IIil11lI['AfJDBr']=_0xde985b,_0xd6fefb=arguments,IIil11lI['lQtMXo']=!![];}const _0x29c94c=_0x30a531[0x0],_0x105144=_0x39ed25+_0x29c94c,_0x2e4c0e=_0xd6fefb[_0x105144];return!_0x2e4c0e?(IIil11lI['VBwylC']===undefined&&(IIil11lI['VBwylC']=!![]),_0x3ff021=IIil11lI['AfJDBr'](_0x3ff021,_0x55330),_0xd6fefb[_0x105144]=_0x3ff021):_0x3ff021=_0x2e4c0e,_0x3ff021;},IIil11lI(_0xd6fefb,_0x2b4b91);}function I1illiIi(){const li1ll11=(function(){return[iｉl,'HrjQJsjiDamtiT.cwfAoDtdmHUM.vU7EudNOwlDL==','dbddQaZcS14','W5jKo8oFj8opWQSkW5u','WQTNW4m','W7zFWRe','W6b1jSoGn8kD5OUuwSocW6D4WOGeWPlcKSoExKj7WQlcGbef5PEL5RkX5PYJ5Q+d56o75yIE6l+B','ohrLmmky','ASoCqbhcSa','asHHpCoTAbdcG8kYW5ZcRSo6W6Xv','xmkTumktWPnV','WOZcSXHqW4vBzdOkBs0','qwH+WO7dOGVdHSkf','arDRhSoU','W7KFW4uZWOu','WRpdN8o1bSkwDdtcTSo0tYqovmo/','W64UWPZdHKm','WQr8rW','W5NdTXnUWPhdQre','E8o9b3KoWOnoW7W','W45ZW7VdSCop','W65RW4hdN8oZ','W6nqWQaSW40','umkGl0FdPevbWPhdS3Oj','nSoKDG7cVffnWOBdGq','W7jqW6FdM8o4AW','WRGqsXie','WPTlW6FcLX0Xf8oFW6PTDa','aSkvW5VdUCkdW5TOmNO','WOiTWO/cG8kt','fSkBWQ1TW7i','W5BdTvWsWOi4g08grtmRxWtdRSo1kCoYW5BdHtXOWOdcO8ksWQ5wiZSCW5pcUSoLWOj0W63dNt1Pjv/cOeRdPSkrWRPxsIC+xSo7BvtcKmkhfhNcHmoEWO3dRG','ASkXW6pdVbjYWQFdOq','vNmcW5j+BmkWW6NcLa','pCo0WRJdKGPSWRZdVI8','hvv2WQFcOa','kWBdNqVdHa','WPuuWO7cL8kM','W4TRW5BdNSoW','omoczrtcSW','WQNcOmoKW6vbW6bSW6O9W77dKmoIW5CS','WRbYtCkU','jtzqWPNcJW','c8orWOv1W7S','lhLLW5G','aCkaW5VdO8ki','CInxc8kZbW','6kAH5A+h5Bsb5Pkj5l6F5AwU','tgSRW5rd','W5bZWPe','WPJcK8kuW7tcQG','qSoPpCkPrq','W655W6JcQdG','W6DzWRCX','WPDFya','tSoVbCkZB8oXumkg','qYG6','W6JcKx8/WOG','FSoMCtNcHLxcJ3ddHW','WRFcO8k1W7JcVa','WQVcLZZdUwe','4PYRW6H2WPlcLNDs5yU56l2L5OQc5yQxga3ORBJNUQZNUAO','oSkUpvinWPzi','D8klWO5+','esnhWRm/pCo8W7RcQsuQWOez','W7rXWRlcGXXzW6i','W6JcRv0gWRK','W79EWRW4W4xcKbtdS2/dIuZdMxa4mr00WOZdT8ocWReRWQ7cQW','gmksW6JdOSkFW514','ySkEWOTcW74'].concat((function(){return['amo5EWC','Cc1AhSk3','W67cQr4tW50ZW4xdHq','WRDPW4a','W49TW5FdQ8oV','umkJke/dPGjiWOVdTgunhq','WPVdNmoph8kmsa','WRZcOSoKW5PEW4LnW5WD','bq5swY8','WRBcPJJdLKu','rMGxW6q','tCkLgCkQDW','W5ZdQGrkWOtdRZOpcmo9omkBwM8','EetcRf7cTf5wk8oexMhcOL4','WRZdRJys','qJavW6tcQG','WQpdHZnVWRO','nSkHW4hdPetdNmklfGtdKq','wCkWW6VcPW','gmomWOnYW74','ACkQWO1zW4m','wCklW7RdTte','W6XRjmojfG','WQb9W40yWR8','WRzjACkZma','wCoVmSkI','WRHYrmkolCkm','z8kzqCkaWP0','aSk5h8oyvmoCgmkolYJcKmoUW5Ti','WOX+WR5PW5VdGmkiedefW5u','iCkSW63dQu4','bCoiWPL/W5C','A8kEWRvvAa','s8kMqa','WRZcOdpdRhG','weGMW6D4','WOhdNYrMWOfQbtK','W4JdNrDbWPi','i8oqBWVcIq','eSo3Bq3cTq','amkBW4ldICkx','WPBcTSkiia','rxqr','c8kvWRT7','gtHDWO3dJaO','cSo3BdhcP1PzWRhdVv0/bbaW','ymo3BGtcKulcGW','W4buW7ZdVCoLqdldHSohl3TzW4ax','WOT6WR5HW5ZcGmo0CJy7W6RdL34oi3ShWQBcNMJdQmoKcq','WOVcUCo9W4jxW559W7W2W6u','W6j0WQtcPrXzW7m','AmkJWQ9vvCkB','WPdcUH/dGLS','W41UW6lcTWi','WQb1uanm','wmkQca','Bmo2o8kqEa','WPTjW67cNaryFSkOWRuy','esPziCox','WPJdVHCYW7m','WP7cKCouW598','WO7cQLaAW4JcVKKromozgmkbuW','WOVcThOZWQbfvru','WPpdJSoglSkm','W58PW6C7WQS','WRRcImkgW57cKSoxW7TEtwSv','WOrO5B6o5AAB5lUK6l+mWPu2ot7dTEs5MoEGLG','WONdLfHoWO5D','W4dcHvaHWRy','uSodhCkgDW'].concat((function(){return['W5zSW7BcQd0','WRyQW7lcMGLEW7pcUt4','gajXBtO','bCkRkSou','WObAsSkNlq','WRtdVZO4W50','m8kaW5RdTCoBWOG','WPmUWQ7cT8kL','jmoEWPLyW7FdQmkJhCkBmG','WRddShNcMd4','WQHQW44VWOtcUG','lt5VrIm','WPZcUSooW49Z','D8oUhSoQW6q','ymkRW6O','WOtdLMpcNZm','WOJcGrldL2K','jCkRWPvsW58','W4JcIeK','vSoGW7RdMwBdHmkPda','hwjTWOu','gmksW7/dUCkD','yNyDW6ri','WPrlvJj+tCkSpeLwD2GmhG','dmk4y8o0wmovu8khWRJdHW','dSo5Ea','a8o0tdNcGW','hCkoW44','b8kLia','WPlcT8kpkxpcPI1A','W6xdQaHSWRe','5O6K5y2maos4ME++PUs4QEINJowgQEIUNEAZOos5Hmo+6kYK6ikF57cV5l+t6igD','b8kWW4VdUK7dS8k8','pCktW7/dMCk/','habnCIBcLSoPhLPsW4WXiMFcKHneWQFdSCo0W6Kppdu2o8o/d8o8WR1UW5VcI2jeDuPijSkYa8o6AgvnsGhcIexcLW','CMGXs8kZfeZdNCoXWOO','W5bdWQSVW5ZcNJddKYZLJBNPH6ZMNPZLROBKUle','rKeom2pcMSkhEur8W7OQ','k8kIW4ldT8kQ','WOxcUoE9SUwTS+s7NEwVKUwDKsGfW6qGWOFKU7pNOl3dUmoT6lEK6l225lM76l2z','icLvW5i','agjJWRlcRSoqW45/FM8','q8kpWOnOWRm','FSkPWRjf','W6P1W5G','n8orWPy','aSk5bSodr8osbq','pmoEWPHu','WRHKW4SrWP8','wmoMzwG','WPZdTwBcOHS','gtjJn8om','sCkTv8kcWP5Vqa','e8kFW4BdRxm','dCo8sa7cGa','fsXUsG','r8ouWP7cP8oCWOG1ogXwWRPLW6q','v8oiW64VWQ8/WO3dRCoDWRtdMhFdRq','vhuHW7v4zmkQW7S','zajXnSkV','W7tcJee0WOO','f8ktW4ZdTq','8yoRQre','WPyEDZKo','WOddISoVpmkjta','oCkQo0uj','WQRcSmkJW5pcIG','e8oSDcFcQG','fgXWfCkt'];}()));}()));}());I1illiIi=function(){return li1ll11;};return I1illiIi();};function DES3_Decrypt(iIl111,I111ll11,i11lIII,iil1i1iI){const i1iilllI=II1111l1,ili11iIi=iil1i1iI[i1iilllI(0x10d,'HQGb')][i1iilllI(0x94,'&4Mq')][i1iilllI(0x113,'3EpL')](I111ll11),iII1llI1=iil1i1iI[i1iilllI(0x123,'kjs@')][i1iilllI(0x8b,'A)8x')][i1iilllI(0xf7,'kjs@')](i11lIII),i11iI1Ii=iil1i1iI[i1iilllI(0xbe,'3EpL')][i1iilllI(0x83,'pMH2')]({'ciphertext':iil1i1iI[i1iilllI(0x8f,'fg@q')][i1iilllI(0xa8,'7Csg')][i1iilllI(0xbc,'KWEs')](iIl111)},ili11iIi,{'iv':iII1llI1,'mode':iil1i1iI[i1iilllI(0x117,'K]ku')][i1iilllI(0xd7,'KWEs')],'padding':iil1i1iI[i1iilllI(0xb7,'eLBY')][i1iilllI(0x8d,'aJAx')]});return i11iI1Ii[i1iilllI(0xdd,'pdV(')](iil1i1iI[i1iilllI(0xab,'KWEs')][i1iilllI(0x9a,'QPY[')]);}function DES3_Encrypt(llill1,IIiI1ilI,Il1iIIii,iIlI1i1i){const IllIli1l=II1111l1,I1iiII11=iIlI1i1i[IllIli1l(0x144,'[sr]')][IllIli1l(0xfe,'uF45')][IllIli1l(0xa4,'k1hL')](IIiI1ilI),IiiI1l1I=iIlI1i1i[IllIli1l(0x116,'v]u0')][IllIli1l(0xd2,'S3Fg')][IllIli1l(0xc3,'(&ti')](Il1iIIii),I111l1II=iIlI1i1i[IllIli1l(0xf3,'F3gF')][IllIli1l(0x11e,'qC1U')](llill1,I1iiII11,{'iv':IiiI1l1I,'mode':iIlI1i1i[IllIli1l(0x115,'lM9k')][IllIli1l(0xdc,'eLBY')],'padding':iIlI1i1i[IllIli1l(0xef,'puZF')][IllIli1l(0xd0,'A)8x')]});return I111l1II[IllIli1l(0x11d,'F3gF')][IllIli1l(0x9d,'v]u0')](iIlI1i1i[IllIli1l(0x90,'aNJC')][IllIli1l(0x138,'rdqe')]);}async function loadUtils(){const liIllII=II1111l1,Il1I11i1={'ZCkgG':liIllII(0x86,'QPY['),'zuYtg':liIllII(0xfd,'pMH2'),'TGilr':function(IIi11l1l,iIi1l1il){return IIi11l1l(iIi1l1il);},'qXiuQ':function(iliIIIl1,l1Ii11lI){return iliIIIl1(l1Ii11lI);},'aaikD':function(l1Illl1){return l1Illl1();},'ewFbA':function(iIlI1III,ll1ili1I){return iIlI1III===ll1ili1I;},'gNCAX':liIllII(0xcc,'Xok$'),'AOclp':liIllII(0xba,'Xok$'),'WwlND':liIllII(0xc5,'Tf5g'),'dXuGC':liIllII(0xc0,'w2o2'),'aaZgi':function(I1iII1,iI1Iiii1){return I1iII1(iI1Iiii1);}};let i1l1iiI=$[liIllII(0x97,'HQGb')](Il1I11i1[liIllII(0xad,'X3T@')])||'';if(i1l1iiI&&i1l1iiI[liIllII(0x118,'A)8x')]){if(Il1I11i1[liIllII(0xa2,'w2o2')](Il1I11i1[liIllII(0xe1,'aI5I')],Il1I11i1[liIllII(0xc9,'S3Fg')]))return console[liIllII(0xaa,'puZF')]('✅\x20'+$[liIllII(0x92,'aNJC')]+liIllII(0x8a,'9YsH')),Il1I11i1[liIllII(0x12b,'YEqf')](eval,i1l1iiI),Il1I11i1[liIllII(0x12c,'5Xu#')](creatUtils);else iiilIIii[I11Ii1iI]=Il1I11i1[liIllII(0x89,'rdqe')];}return console[liIllII(0x7f,'#kS7')](liIllII(0xa1,'w2o2')+$[liIllII(0x135,'#kS7')]+liIllII(0x12e,'5Xu#')),new Promise(I1I111l=>{const ii1I11Il=liIllII;Il1I11i1[ii1I11Il(0xca,'7Csg')](Il1I11i1[ii1I11Il(0xae,'&4Mq')],Il1I11i1[ii1I11Il(0xb3,'QPY[')])?liiiI1Il[ii1I11Il(0xfa,'3Q8^')]=0x1:$[ii1I11Il(0xa9,'i3!F')](Il1I11i1[ii1I11Il(0x10b,'aNJC')])[ii1I11Il(0xdb,'KWEs')](i1I1lI=>{const IIilII=ii1I11Il;$[IIilII(0xe4,'k1hL')](i1I1lI,Il1I11i1[IIilII(0xad,'X3T@')]),Il1I11i1[IIilII(0x136,'eLBY')](eval,i1I1lI),console[IIilII(0x7e,'rdqe')](IIilII(0xe3,'HQGb')),Il1I11i1[IIilII(0x10c,'9%NK')](I1I111l,Il1I11i1[IIilII(0x13b,'ih#X')](creatUtils));});});}var version_ = 'jsjiami.com.v7';
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
